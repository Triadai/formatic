require=function e(t,n,i){function o(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var f=new Error("Cannot find module '"+r+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t){t.exports=e("./lib/formatic")},{"./lib/formatic":43}],2:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){e.exports.compile=function(e){if(e.choices){var t=e.choices;n.isString(t)&&(t=t.split(",")),!n.isArray(t)&&n.isObject(t)&&(t=Object.keys(t).map(function(e){return{value:e,label:t[e]}})),t=t.slice(0),t.forEach(function(e,i){n.isString(e)&&(t[i]={value:e,label:e})}),e.choices=t}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){"use strict";t.exports=function(e){e.exports.compile=function(e){if(e.lookup){e.eval||(e.eval={}),e.eval.needsMeta||(e.eval.needsMeta=[]);var t=e.lookup.keys||[],n=t.map(function(e){return["@get",e]});n=[e.lookup.source].concat(n);var i=["@getMeta"].concat(n);e.eval.needsMeta.push(["@if",i,null,n]),e.eval.choices=i,delete e.lookup}}}},{}],4:[function(e,t){"use strict";t.exports=function(e){var t={help_text:"helpText"};e.exports.compile=function(e){Object.keys(t).forEach(function(n){var i=t[n];"undefined"==typeof e[i]&&"undefined"!=typeof e[n]&&(e[i]=e[n])})}}},{}],5:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t={unicode:function(e){e.type="string",e.maxRows=1},text:"string",select:function(e){e.choices=e.choices||[]},bool:"boolean"};t.str=t.unicode,e.exports.compile=function(e){var i=t[e.type];i&&(n.isString(i)?e.type=i:n.isFunction(i)&&(e=i(e)))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className,label:e.configValue("label","[add]")}},render:function(){return i.span({className:this.props.className,onClick:this.props.onClick},this.props.label)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className}},onChange:function(){var e=this.refs.choices.getDOMNode().getElementsByTagName("input");e=Array.prototype.slice.call(e,0);var t=e.map(function(e){return e.checked?e.value:null}).filter(function(e){return e});this.props.field.val(t)},render:function(){var e=this.props.field,n=e.def.choices||[],i=e.value||[];return t.component("field")({field:e},o.div({className:this.props.className,ref:"choices"},n.map(function(t,n){return o.span({key:n,className:"field-choice"},o.span({style:{whiteSpace:"nowrap"}},o.input({name:e.def.key,type:"checkbox",value:t.value,checked:i.indexOf(t.value)>=0?!0:!1,onChange:this.onChange}),o.span({className:"field-choice-label"},t.label))," ")}.bind(this))))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],8:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},render:function(){var t=this.props.field;return i.div({className:this.props.className,style:{display:t.hidden()?"none":""}},e.component("label")({field:t,index:this.props.index}),n.addons.CSSTransitionGroup({transitionName:"reveal"},t.collapsed?[]:[e.component("help")({key:"help",field:t}),this.props.children]))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className}},render:function(){var e=this.props.field;return t.component("field")({field:e},o.fieldset({className:this.props.className},e.fields().map(function(e){return e.component()}.bind(this))))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],10:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=e("reflux");t.exports=function(e){e.exports.component=i.createClass({mixins:[s.ListenerMixin],getInitialState:function(){return{field:this.props.form.field()}},componentDidMount:function(){var e=this.props.form;this.listenTo(e.store,this.onFormChanged)},onFormChanged:function(){this.props.onChange&&this.props.onChange(this.props.form.val()),this.setState({field:this.props.form.field()})},render:function(){return o.div({className:"formatic"},this.state.field.component())}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{reflux:62}],11:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},render:function(){var e=this.props.field;return e.def.helpText?i.div({className:this.props.className},e.def.helpText):i.span(null)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},onChange:function(e){this.props.onSelect(parseInt(e.target.value))},render:function(){var e=this.props.field,t=null;return e.items().length>0&&(t=i.select({className:this.props.className,value:this.value,onChange:this.onChange},e.items().map(function(e,t){return i.option({key:t,value:t},e.label||t)}))),t?t:i.span(null)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className,rows:t.config.rows||5}},isValidValue:function(e){try{return JSON.parse(e),!0}catch(t){return!1}},getInitialState:function(){return{isValid:!0,value:JSON.stringify(this.props.field.value)}},onChange:function(e){var t=this.isValidValue(e.target.value);t&&(this._isChanging=!0,this.props.field.val(JSON.parse(e.target.value))),this.setState({isValid:t,value:e.target.value})},componentWillReceiveProps:function(e){this._isChanging||this.setState({isValid:!0,value:JSON.stringify(e.field.value,null,2)}),this._isChanging=!1},render:function(){var e=this.props.field;return t.component("field")({field:e},o.textarea({className:this.props.className,value:this.state.value,onChange:this.onChange,style:{backgroundColor:this.state.isValid?"":"rgb(255,200,200)"},rows:e.def.rows||this.props.rows}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],14:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},render:function(){var e=this.props.field,t=null;if("number"==typeof this.props.index&&(t=""+(this.props.index+1)+".",e.def.label&&(t=t+" "+e.def.label)),e.def.label||t){var n=t||e.def.label;t=i.label({},n)}var o=i.span({className:"required-text"});return i.div({className:this.props.className},t," ",o)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},getInitialState:function(){return{itemIndex:0}},onSelect:function(e){this.setState({itemIndex:e})},onAppend:function(){this.props.onAppend(this.state.itemIndex)},render:function(){var t=this.props.field,n=null;return t.items().length>0&&(n=e.component("item-choices")({field:t,value:this.state.itemIndex,onSelect:this.onSelect})),i.div({className:this.props.className},n," ",e.component("add-item")({onClick:this.onAppend}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},onMoveBack:function(){this.props.onMove(this.props.index,this.props.index-1)},onMoveForward:function(){this.props.onMove(this.props.index,this.props.index+1)},onRemove:function(){this.props.onRemove(this.props.index)},render:function(){var t=this.props.field;return i.div({className:this.props.className},e.component("remove-item")({field:t,onClick:this.onRemove}),this.props.index>0?e.component("move-item-back")({onClick:this.onMoveBack}):null,this.props.index<this.props.numItems-1?e.component("move-item-forward")({onClick:this.onMoveForward}):null)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},render:function(){var t=this.props.field;return i.div({className:this.props.className},e.component("field")({field:t,index:this.props.index},t.component()))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className}},render:function(){var t=this.props.field;return i.div({className:this.props.className},e.component("list-item-value")({form:this.props.form,field:t,index:this.props.index}),e.component("list-item-control")({field:t,index:this.props.index,numItems:this.props.numItems,onMove:this.props.onMove,onRemove:this.props.onRemove}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className}},nextLookupId:0,getInitialState:function(){var e=[];return this.props.field.fields().forEach(function(t,n){e[n]="_"+this.nextLookupId,this.nextLookupId++}.bind(this)),{lookups:e}},componentWillReceiveProps:function(e){var t=this.state.lookups,n=e.field.fields();if(n.length>t.length)for(var i=t.length;i<n.length;i++)t[i]="_"+this.nextLookupId,this.nextLookupId++;this.setState({lookups:t})},onAppend:function(e){this.props.field.append(e)},onRemove:function(e){var t=this.state.lookups;t.splice(e,1),this.setState({lookups:t}),this.props.field.remove(e)},onMove:function(e,t){var n=this.state.lookups,i=n[e],o=n[t];n[e]=o,n[t]=i,this.setState({lookups:n}),this.props.field.move(e,t)},render:function(){var e=this.props.field,n=e.fields(),s=n.length;return t.component("field")({field:e},o.div({className:this.props.className},i.addons.CSSTransitionGroup({transitionName:"reveal"},n.map(function(n,i){return t.component("list-item")({key:this.state.lookups[i],form:this.props.form,field:n,parent:e,index:i,numItems:s,onMove:this.onMove,onRemove:this.onRemove})}.bind(this))),t.component("list-control")({field:e,onAppend:this.onAppend})))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],20:[function(e,t){"use strict";t.exports={loadNeededMeta:function(e){e.field&&e.field.form&&e.field.def.needsMeta&&e.field.def.needsMeta.length>0&&e.field.def.needsMeta.forEach(function(t){t&&e.field.form.loadMeta(t)})},componentDidMount:function(){this.loadNeededMeta(this.props)},componentWillReceiveProps:function(e){this.loadNeededMeta(e)},componentWillUnmount:function(){this.props.field&&this.props.field.erase()}}},{}],21:[function(e,t){"use strict";t.exports={componentDidMount:function(){this.onResizeWindow&&window.addEventListener("resize",this.onResizeWindow)},componentWillUnmount:function(){this.onResizeWindow&&window.removeEventListener("resize",this.onResizeWindow)}}},{}],22:[function(e,t){"use strict";var n={getInitialState:function(){return{undo:[],redo:[]}},snapshot:function(){var e=this.state.undo.concat(this.getStateSnapshot());"number"==typeof this.state.undoDepth&&e.length>this.state.undoDepth&&e.shift(),this.setState({undo:e,redo:[]})},hasUndo:function(){return this.state.undo.length>0},hasRedo:function(){return this.state.redo.length>0},redo:function(){this._undoImpl(!0)},undo:function(){this._undoImpl()},_undoImpl:function(e){var t,n=this.state.undo.slice(0),i=this.state.redo.slice(0);if(e){if(0===i.length)return;t=i.pop(),n.push(this.getStateSnapshot())}else{if(0===n.length)return;t=n.pop(),i.push(this.getStateSnapshot())}this.setStateSnapshot(t),this.setState({undo:n,redo:i})}};t.exports=n},{}],23:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className,label:e.configValue("label","[up]")}},render:function(){return i.span({className:this.props.className,onClick:this.props.onClick},this.props.label)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className,label:e.configValue("label","[down]")}},render:function(){return i.span({className:this.props.className,onClick:this.props.onClick},this.props.label)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,r=e("react-component-resizable"),a=function(e){return e.replace(/ /g," ")},l="  ",f="  ";t.exports=function(t){var n=t.require("util");t.exports.component=i.createClass({mixins:[e("./mixins/undo-stack"),e("./mixins/resize")],getDefaultProps:function(){return{className:t.config.className}},getInitialState:function(){var e=this.props.field.value||"",t=n.parseTextWithTags(e),i=this.tokens(t),o=this.indexMap(i);return{tokens:i,indexMap:o,value:e,plainValue:this.plainValue(e),pos:o.length,range:0,undoDepth:100}},getStateSnapshot:function(){return{value:this.state.value,pos:this.state.pos}},setStateSnapshot:function(e){this.props.field.val(e.value),this.setState({pos:e.pos})},componentWillReceiveProps:function(e){var t=e.field.value||"",i=n.parseTextWithTags(t),o=this.tokens(i),s=this.indexMap(o);this.setState({value:t,plainValue:this.plainValue(t),tokens:o,indexMap:s})},tokens:function(e){return[].concat.apply([],e.map(function(e){return"tag"===e.type?e:e.value.split("")}))},indexMap:function(e){var t=[];return s.each(e,function(e,n){if("tag"===e.type){var i=l+a(this.prettyLabel(e.value))+f,o=i.split("");s.each(o,function(){t.push(n)})}else t.push(n)}.bind(this)),t},onScroll:function(){this.refs.highlight.getDOMNode().scrollTop=this.refs.content.getDOMNode().scrollTop,this.refs.highlight.getDOMNode().scrollLeft=this.refs.content.getDOMNode().scrollLeft},tokenIndex:function(e,t,n){if(t=t||this.state.tokens,n=n||this.state.indexMap,0>e)e=0;else if(e>=n.length)return t.length;return n[e]},onChange:function(){var e=this.refs.content.getDOMNode(),t=this.state.pos,n=this.state.range,i=e.selectionStart,o=this.state.tokens,s=this.tokenIndex(t),r=this.tokenIndex(t+n),a=r-s;if(a>0&&o.splice(s,a),i>t){var l=e.value.substring(t,i);o.splice(s,0,l)}else if(e.value.length+1===this.state.plainValue.length){var f=this.tokenAt(i),u=this.tokenBefore(i);f===u&&(i=this.moveOffTag(i,o,this.indexMap(o),-1)),o.splice(s-1,1),e.setSelectionRange(i,i)}var c=this.rawValue(o);this.props.field.val(c),this.snapshot(),this.setState({range:0,pos:i})},componentDidUpdate:function(){document.activeElement===this.refs.content.getDOMNode()&&this.refs.content.getDOMNode().setSelectionRange(this.state.pos,this.state.pos+this.state.range)},prettyLabel:function(e){return this.props.field.def.replaceTags[e]?this.props.field.def.replaceTags[e]:n.humanize(e)},plainValue:function(e){var t=n.parseTextWithTags(e);return t.map(function(e){return"text"===e.type?e.value:l+a(this.prettyLabel(e.value))+f}.bind(this)).join("")},prettyValue:function(e){var t=n.parseTextWithTags(e);return t.map(function(e,n){return"text"===e.type?n===t.length-1&&"\n"===e.value[e.value.length-1]?e.value+" ":e.value:o.span({className:"pretty-part"},o.span({className:"pretty-part-left"},l),o.span({className:"pretty-part-text"},a(this.prettyLabel(e.value))),o.span({className:"pretty-part-right"},f))}.bind(this))},rawValue:function(e){return e.map(function(e){return"tag"===e.type?"{{"+e.value+"}}":e}).join("")},moveOffTag:function(e,t,n,i){i="undefined"==typeof i||i>0?1:-1;var o;if(i>0)for(o=t[n[e]];e<n.length&&"tag"===t[n[e]].type&&t[n[e]]===o;)e++;else for(o=t[n[e-1]];e>0&&"tag"===t[n[e-1]].type&&t[n[e-1]]===o;)e--;return e},tokenAt:function(e){return e>=this.state.indexMap.length?null:(0>e&&(e=0),this.state.tokens[this.state.indexMap[e]])},tokenBefore:function(e){return e>=this.state.indexMap.length&&(e=this.state.indexMap.length),0>=e?null:this.state.tokens[this.state.indexMap[e-1]]},normalizePosition:function(e,t){if(0>=e||e>=this.state.indexMap.length)return 0>e&&(e=0),e>this.state.indexMap.length&&(e=this.state.indexMap.length),e;var n=this.tokenAt(e),i=this.tokenBefore(e);if(n!==i)return e;var o=this.tokenAt(this.state.pos),s=this.tokenBefore(this.state.pos),r=this.moveOffTag(e,this.state.tokens,this.state.indexMap),a=this.moveOffTag(e,this.state.tokens,this.state.indexMap,-1);if(o!==s){if(o===n)return r;if(s===n)return a}var l=r;return("undefined"==typeof t||-1===t)&&r-e>e-a&&(l=a),l},onSelect:function(){var e=this.refs.content.getDOMNode(),t=e.selectionStart,n=this.normalizePosition(t),i=e.selectionEnd,o=0;if(e.value===this.state.value){if(i>t){var s=1;i===this.state.pos&&(s=-1);var r=this.normalizePosition(i,s);r>n&&(o=r-n)}this.setState({pos:n,range:o})}},onCopy:function(){var e=this.refs.content.getDOMNode(),t=e.selectionStart,n=e.selectionEnd,i=e.value.substring(t,n),o=this.tokenIndex(t),s=this.tokenIndex(n),r=this.state.tokens.slice(o,s);i=this.rawValue(r);var a=e.value;e.value=e.value+i,e.setSelectionRange(a.length,a.length+i.length),window.setTimeout(function(){e.value=a,e.setSelectionRange(t,n)},0)},onKeyDown:function(e){90!==e.keyCode||!e.metaKey&&!e.ctrlKey||e.shiftKey?(89===e.keyCode&&e.ctrlKey&&!e.shiftKey||90===e.keyCode&&e.metaKey&&e.shiftKey)&&this.redo():(e.preventDefault(),this.undo())},adjustStyles:function(){var e=this.refs.highlight.getDOMNode(),t=this.refs.content.getDOMNode();e.style.cssText=document.defaultView.getComputedStyle(t,"").cssText,e.style.position="absolute"},onResize:function(){this.adjustStyles()},onResizeWindow:function(){this.adjustStyles()},componentDidMount:function(){this.adjustStyles()},render:function(){var e=this.props.field;return r({},o.div({style:{position:"relative"}},o.div({className:"pretty-highlight",ref:"highlight",style:{position:"absolute"}},this.prettyValue(this.state.value)),o.textarea(s.extend({className:n.className(this.props.className,"pretty-content"),ref:"content",rows:5,name:e.key,value:this.state.plainValue,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onScroll:this.onScroll,style:{backgroundColor:"rgba(0,0,0,0)",position:"relative",top:0,left:0},onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,onSelect:this.onSelect,onCopy:this.onCopy},t.config.attributes))))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/resize":21,"./mixins/undo-stack":22,"react-component-resizable":52}],26:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){e.exports.component=n.createClass({getDefaultProps:function(){return{className:e.config.className,label:e.configValue("label","[remove]")}},render:function(){return i.span({className:this.props.className,onClick:this.props.onClick},this.props.label)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n.DOM;t.exports=function(e){var t=e.require("util");e.exports.component=n.createClass({getDefaultProps:function(){return{className:t.className("root",e.config.className)}},render:function(){var e=this.props.field;return i.div({className:this.props.className},e.fields().map(function(e){return e.component()}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className}},onChange:function(e){var t=e.target.value,n=t.substring(0,t.indexOf(":"));if("choice"===n){var i=t.substring(t.indexOf(":")+1);i=parseInt(i),this.props.field.val(this.props.field.def.choices[i].value)}},render:function(){var e=this.props.field,n=e.def.choices||[],i=void 0!==e.value?e.value:"";n=n.map(function(e,t){return{choiceValue:"choice:"+t,value:e.value,label:e.label}});var r=s.find(n,function(e){return e.value===i});if(void 0===r){var a=i;s.isString(i)||(a=JSON.stringify(i)),r={choiceValue:"value:",value:i,label:a},n=[r].concat(n)}return t.component("field")({field:e},o.select({className:this.props.className,onChange:this.onChange,value:r.choiceValue},n.map(function(e,t){return o.option({key:t,value:e.choiceValue},e.label)}.bind(this))))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],29:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className}},onChange:function(e){var t=e.target.value;this.props.field.val(t)},render:function(){var e=this.props.field;return t.component("field")({field:e},o.input({className:this.props.className,type:"text",value:e.value,rows:e.def.rows,onChange:this.onChange}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],30:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=function(t){t.exports.component=i.createClass({mixins:[e("./mixins/field")],getDefaultProps:function(){return{className:t.config.className,rows:t.config.rows||5}},onChange:function(e){var t=e.target.value;this.props.field.val(t)},render:function(){var e=this.props.field;return t.component("field")({field:e},o.textarea({className:this.props.className,value:e.value,rows:e.def.rows||this.props.rows,onChange:this.onChange}))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./mixins/field":20}],31:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.require("field-router"),i=e.require("util"),o=e.require("eval"),s=e.require("compiler"),r=function(e,t,n,i){var o=this;o.form=e,o.def=t,o.value=n,o.parent=i};e.exports.field=function(){var e=this;return new r(e,{type:"root"},e.store.value)};var a=r.prototype;a.typePlugin=function(){var t=this;return t._typePlugin||(t._typePlugin=e.require("type."+t.def.type)),t._typePlugin},a.component=function(){var e=this,n=t.componentForField(e);return n({field:e})},a.fields=function(){var e=this;if(!e._fields){var t;t=e.typePlugin().fields?e.typePlugin().fields(e):e.def.fields?e.def.fields.map(function(t){return e.createChild(t)}):[],e._fields=t}return e._fields},a.items=function(){var e=this;return e._items||(e._items=n.isArray(e.def.items)?e.def.items.map(function(t){return e.resolve(t)}):[]),e._items},a.resolve=function(e){var t=this;if(n.isString(e)&&(e=t.form.findDef(e),!e))throw new Error("Could not find field: "+e);return e},a.evalDef=function(e){var t=this;if(e.eval)try{var i=t.eval(e.eval);i&&(e=n.extend({},e,i),e=s.compileDef(e))}catch(o){console.log("Problem in eval: ",JSON.stringify(e.eval)),console.log(o.message)}return e},a.eval=function(e){return o.evaluate(e,this)},a.createChild=function(e){var t=this;e=t.resolve(e);var o=t.value;return e=t.evalDef(e),o=i.isBlank(e.key)?e.value:o&&!n.isUndefined(o[e.key])?o[e.key]:void 0,new r(t.form,e,o,t)},a.itemForValue=function(e){var t=this,o=n.find(t.items(),function(t){return i.itemMatchesValue(t,e)});return o=o?n.extend({},o):i.fieldDefFromValue(e)},a.valuePath=function(e){var t=this,n=e||[];return i.isBlank(t.def.key)||(n=[t.def.key].concat(n)),t.parent?t.parent.valuePath(n):n},a.val=function(e){var t=this;t.form.actions.setValue(t.valuePath(),e)},a.remove=function(e){var t=this,n=t.valuePath().concat(e);t.form.actions.removeValue(n)},a.move=function(e,t){var n=this;n.form.actions.moveValue(n.valuePath(),e,t)},a.default=function(){var e=this;return n.isUndefined(e.def.value)?n.isUndefined(e.def.default)?n.isUndefined(e.typePlugin().default)?null:i.copyValue(e.typePlugin().default):i.copyValue(e.def.default):i.copyValue(e.def.value)},a.append=function(e){var t=this,o=t.items()[e];o=n.extend(o),o.key=t.value.length;var s=t.createChild(o),r=s.default();if(n.isArray(r)||n.isObject(r)){var a=t.valuePath().length+1;s.inflate(function(e,t){r=i.setIn(r,e.slice(a),t)})}t.form.actions.appendValue(t.valuePath(),r)},a.hidden=function(){var e=this;return e.def.hidden||e.typePlugin().hidden},a.inflate=function(e){var t=this;!i.isBlank(t.def.key)&&n.isUndefined(t.value)&&e(t.valuePath(),t.default());var o=t.fields();o.forEach(function(t){t.inflate(e)})},a.erase=function(){var e=this;i.isBlank(e.def.key)||n.isUndefined(e.value)||e.form.actions.eraseValue(e.valuePath(),{})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t){"use strict";t.exports=function(e){var t=e.requireAll(e.config.init),n=e.exports;n.init=function(){var e=this;t.forEach(function(t){t.apply(e,arguments)})}}},{}],33:[function(e,t){(function(n){"use strict";var i=e("reflux"),o="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t.exports=function(e){var t=e.exports,n=e.require(e.config.store),s=e.require("util"),r=e.require("loader"),a=function(e){var t={};return e.forEach(function(e){t[e]=i.createAction({sync:!0})}),t};t.init=function(e){var t=this;e=e||{},t.actions=a(["setValue","setFields","removeValue","appendValue","moveValue","eraseValue","setMeta"]),t.store=n.create(t.actions,t,e),t.store.inflate(),t.contextifiers={}},t.component=function(t){var n=this;t=o.extend({},t,{form:n});var i=e.component("formatic");return i(t)},t.val=function(e){var t=this;return o.isUndefined(e)?s.copyValue(t.store.value):t.actions.setValue(e)},t.fields=function(e){var t=this;t.actions.setFields(e)},t.findDef=function(e){var t=this;return t.store.templateMap[e]||null},t.contextifier=function(e,t){var n=this;n.contextifiers[e]=t},t.meta=function(e,t){var n=this;return o.isUndefined(t)?n.store.meta[e]:n.actions.setMeta(e,t)},t.loadMeta=function(e){var t=e.filter(function(e){return e});t.length<e.length||r.loadMeta(this,e)},t.source=r.source}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{reflux:62}],34:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null;t.exports=function(e){var t=e.exports,i=e.require("field-router");t.route=i.route,t.render=function(e,t){n.renderComponent(e,t)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.requireAll(e.config.compilers),i=e.require("util"),o=e.exports;o.templateMap=function(e){var t={};return e.forEach(function(e){e.key&&(t[e.key]=e),e.id&&(t[e.id]=e)}),t},o.expandDef=function(e,t){var i=e.template,s=e.extends;if(n.isString(s)&&(s=[s]),s){var r=s.map(function(e){var n=t[e];if(!n)throw new Error("Template "+e+" not found.");return n}),a=[{}].concat(r.reverse().concat([e]));e=n.extend.apply(n,a)}return e.fields&&(e.fields=e.fields.map(function(e){return n.isString(e)?e:o.expandDef(e,t)})),e.items&&(e.items=e.items.map(function(e){return n.isString(e)?e:o.expandDef(e,t)})),!i&&e.template&&delete e.template,e},o.expandFields=function(e){var t=o.templateMap(e);return e.map(function(e){return o.expandDef(e,t)})},o.compileDef=function(n){n=i.deepCopy(n);var o;t.forEach(function(e){o=e.compile(n),o&&(n=o)});var s=e.require("type."+n.type);return s.compile&&(o=s.compile(n),o&&(n=o)),n},o.compileFields=function(e){return e.map(function(e){return o.compileDef(e)})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,t){"use strict";t.exports=function(e){var t={},n=function(e,n){t[e]||(t[e]=[]),t[e].push(n)
},i=e.requireAll(e.config.props);i.forEach(function(e){n.apply(null,e)});var o={};e.exports.component=function(n){if(!o[n]){var i=e.require("component."+n).component;o[n]=function(e,o){return t[n]&&t[n].forEach(function(t){var n=t(e);n&&(e=n)}),i(e,o)}}return o[n]}}},{}],37:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){e.exports=function(t){var i=e.requireAll(e.config.formatic),o=e.requireAll(e.config.form);i.forEach(function(e){n.keys(e).forEach(function(i){if(!n.isUndefined(t[i]))throw new Error("Property already defined for formatic: "+i);t[i]=e[i]})});var s=function(e){this.init&&this.init(e)};t.form=function(e){return new s(e)},s.prototype=t.form;var r=[];o.forEach(function(e){n.keys(e).forEach(function(t){if("init"===t)r.push(e[t]);else{if(!n.isUndefined(s.prototype[t]))throw new Error("Property already defined for form: "+t);s.prototype[t]=e[t]}})}),s.prototype.init=0===r.length?function(){}:1===r.length?r[0]:function(){var e=this,t=arguments;r.forEach(function(n){n.apply(e,t)})}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.require("util"),i={},o=function(e){return e.length>0&&"@"===e[0][0]},s=function(e,t){var n=e[0].substring(1);try{return i[n](e.slice(1),t)}catch(o){if(!(n in i))throw new Error("Eval function "+n+" not defined.");throw o}},r=function(e,t){if(n.isArray(e))return o(e)?s(e,t):e.map(function(e){return r(e,t)});if(n.isObject(e)){var i={};return Object.keys(e).forEach(function(n){var o=r(e[n],t);"undefined"!=typeof o&&(i[n]=o)}),i}return e};i.if=function(e,t){return t.eval(t.eval(e[0])?e[1]:e[2])},i.eq=function(e,t){return t.eval(e[0])===t.eval(e[1])},i.not=function(e,t){return!t.eval(e[0])},i.get=function(e,t){var o=t.eval(e[0]);return!n.isUndefined(t.value)&&o in t.value?t.value[o]:t.parent?i.get(e,t.parent):void 0},i.getMeta=function(e,n){var i=e.map(function(e){return n.eval(e)}),o=t.joinMetaKeys(i);return n.form.meta(o)},i.sum=function(e,t){for(var n=0,i=0;i<e.length;i++)n+=t.eval(e[i]);return n},e.exports.evaluate=r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t={},i=e.exports,o=e.requireAll(e.config.routes);i.route=function(e,n,i){t[e]||(t[e]=[]),t[e].push({component:n,test:i})},o.forEach(function(e){i.route.apply(i,e)}),i.componentForField=function(i){var o=i.def.type;if(t[o]){var s=t[o],r=n.find(s,function(e){return!e.test||e.test(i)});if(r)return e.component(r.component)}if(e.hasComponent(o))return e.component(o);throw new Error("No component for field: "+JSON.stringify(i.def))},i.component=function(t){return e.component(t)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i={"object.default":["object","fieldset"],"string.choices":["string","select",function(e){return e.def.choices?!0:!1}],"string.tags":["string","pretty-textarea",function(e){return e.def.replaceTags}],"string.single-line":["string","text",function(e){return 1===e.def.maxRows}],"string.default":["string","textarea"],"array.choices":["array","checkbox-list",function(e){return e.def.choices?!0:!1}],"array.default":["array","list"],"boolean.default":["boolean","select"]};n.each(i,function(e,n){t.exports["field-route."+n]=function(t){t.exports=e}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.require("util"),i=e.exports,o={},s={};i.loadMeta=function(e,n){i.loadAsyncFromSource(e,t.joinMetaKeys(n))},i.loadAsyncFromSource=function(e,t,n){setTimeout(function(){i.loadFromSource(e,t)},n||0)},i.loadFromSource=function(e,n){var s=i.bestSource(e,n);if(s){var r=t.splitMetaKey(n);r=r.slice(s.staticArgs.length);var a=s.fn.apply(null,r);if(a)if(a.then){var l=a.then(function(t){e.meta(n,t),o[n]=!1}),f=function(){o[n]=!1};l.catch?l.catch(f):l.fail(f)}else setTimeout(function(){e.meta(n,a),o[n]=!1},0);else o[n]=!1}else o[n]=!1},i.bestSource=function(e,n){if(s[n])return{staticArgs:t.splitMetaKey(n),fn:s[n]};var o=t.splitMetaKey(n);return o.length>1?(o=o.slice(0,o.length-1),i.bestSource(e,t.joinMetaKeys(o))):s.__default__?{staticArgs:[],fn:s.__default__}:null},i.source=function(){var e=n.toArray(arguments);if(e.length>0&&n.isFunction(e[e.length-1])){var i=e[e.length-1],o="__default__";e.length>1&&(o=t.joinMetaKeys(e.slice(0,e.length-1))),s[o]=i}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.exports;t.isBlank=function(e){return void 0===e||null===e&&""===e},t.setIn=function(e,n,i){return 0===n.length?i:1===n.length?(e[n[0]]=i,e):(e[n[0]]||(e[n[0]]={}),t.setIn(e[n[0]],n.slice(1),i),e)},t.removeIn=function(e,i){return 0===i.length?null:1===i.length?(n.isArray(e)?n.isNumber(i[0])&&e.splice(i[0],1):n.isObject(e)&&delete e[i[0]],e):(e[i[0]]&&t.removeIn(e[i[0]],i.slice(1)),e)},t.getIn=function(e,n){return 0===n.length?e:e[n[0]]?t.getIn(e[n[0]],n.slice(1)):null},t.appendIn=function(e,i,o){var s=t.getIn(e,i);return n.isArray(s)&&s.push(o),e},t.moveIn=function(e,i,o,s){var r=t.getIn(e,i);if(n.isArray(r)){if(n.isNumber(o)&&n.isNumber(s)){var a=o,l=s;a!==l&&a>=0&&a<r.length&&l>=0&&l<r.length&&r.splice(l,0,r.splice(a,1)[0])}}else{var f=r[o];r[o]=r[s],r[s]=f}return e},t.copyValue=function(e){return JSON.parse(JSON.stringify(e))},t.deepCopy=function(e){if(n.isArray(e))return e.map(function(e){return t.deepCopy(e)});if(n.isObject(e)){var i={};return n.each(e,function(e,n){i[n]=t.deepCopy(e)}),i}return e},t.itemMatchesValue=function(e,t){var i=e.match;return i?n.every(n.keys(i),function(e){return n.isEqual(i[e],t[e])}):!0},t.fieldDefFromValue=function(e){var i={type:"json"};if(n.isString(e))i={type:"string"};else if(n.isArray(e)){var o=e.map(function(e,n){var i=t.fieldDefFromValue(e);return i.key=n,i});i={type:"array",fields:o}}else if(n.isObject(e)){var s=Object.keys(e).map(function(n){var i=t.fieldDefFromValue(e[n]);return i.key=n,i.label=t.humanize(n),i});i={type:"object",fields:s}}else n.isNull(e)&&(i={type:"null"});return i},t.humanize=function(e){return e=e.replace(/\{\{/g,""),e=e.replace(/\}\}/g,""),e.replace(/_/g," ").replace(/(\w+)/g,function(e){return e.charAt(0).toUpperCase()+e.slice(1)})},t.className=function(){var e=Array.prototype.slice.call(arguments,0);return e=e.filter(function(e){return e}),e.join(" ")},t.joinMetaKeys=function(e){return e.join("::")},t.splitMetaKey=function(e){return e.split("::")};var i=function(e,t){return t=t||"text",{type:t,value:e}};t.parseTextWithTags=function(e){e=e||"";var t=e.split("{{"),n=[];return""!==t[0]&&(n=[i(t[0])]),t=n.concat(t.slice(1).map(function(e){return e.indexOf("}}")>=0?[i(e.substring(0,e.indexOf("}}")),"tag"),i(e.substring(e.indexOf("}}")+2))]:i("{{"+e,"text")})),[].concat.apply([],t)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,o={},s=function(e,t){if(o[e])throw new Error("Plugin "+e+" is already registered.");if(i.isArray(t))o[e]=[],t.forEach(function(t){s(t.name,t.plugin),o[e].push(t.name)});else if(i.isObject(t)&&!i.isFunction(t)){var n=e;o[n]=[],Object.keys(t).forEach(function(e){s(e,t[e]),o[n].push(e)})}else o[e]=t},r={core:{formatic:["core.formatic"],form:["core.form-init","core.form","core.field"]},"core.form":{store:"store.memory"},"field-router":{routes:["field-routes"]},compiler:{compilers:["compiler.choices","compiler.lookup","compiler.types","compiler.prop-aliases"]}},a=function(e){e=i.extend({},e),i.keys(r).forEach(function(t){e[t]=i.extend({},r[t],e[t])});var t,n,l={};n=function(e){return this instanceof n?(this.exports={},void(this.config=e||{})):new n(e)},n.prototype.configValue=function(e,t){return"undefined"!=typeof this.config[e]?this.config[e]:t||""},n.prototype.require=function(e){return t.plugin(e)};var f;n.prototype.component=function(e){return f.component(e)},n.prototype.hasPlugin=function(e){return e in l||e in o},n.prototype.hasComponent=function(e){return this.hasPlugin("component."+e)},n.prototype.requireAll=function(e){return e||(e=[]),i.isArray(e)||(e=[e]),e=e.map(function(e){return i.isString(e)&&i.isArray(o[e])?o[e]:e}),e=i.flatten(e),e.map(function(e){return this.require(e)}.bind(this))};var u=function(t,s){var r;if(i.isFunction(t)){var a=t;return i.isUndefined(a.__exports__)&&(r=n(s||{}),a(r),a.__exports__=r.exports),a.__exports__}if(i.isUndefined(l[t])){if(!s&&e[t]&&e[t].plugin)return u(e[t].plugin,e[t]||{});if(!o[t])throw new Error("Plugin "+t+" not found.");if(!i.isFunction(o[t]))throw new Error("Plugin "+t+" is not a function.");r=n(s||e[t]),o[t](r),l[t]=r.exports}return l[t]};t=function(e){return t.form(e)},t.register=function(e,n){return s(e,n),t},t.plugin=function(e){return u(e)},t.create=a;var c=u("core");return c(t),f=u("component"),t},l=function(){var e=i.toArray(arguments);e.forEach(function(e){var t=e[0],n=e[1];s(t,n)})};l(["core",e("./default/core")],["core.formatic",e("./core/formatic")],["core.form-init",e("./core/form-init")],["core.form",e("./core/form")],["core.field",e("./core/field")],["util",e("./default/util")],["compiler",e("./default/compiler")],["eval",e("./default/eval")],["loader",e("./default/loader")],["field-router",e("./default/field-router")],["field-routes",e("./default/field-routes")],["compiler.choices",e("./compilers/choices")],["compiler.lookup",e("./compilers/lookup")],["compiler.types",e("./compilers/types")],["compiler.prop-aliases",e("./compilers/prop-aliases")],["store.memory",e("./store/memory")],["type.root",e("./types/root")],["type.string",e("./types/string")],["type.object",e("./types/object")],["type.boolean",e("./types/boolean")],["type.array",e("./types/array")],["type.json",e("./types/json")],["component",e("./default/component")],["component.formatic",e("./components/formatic")],["component.root",e("./components/root")],["component.field",e("./components/field")],["component.label",e("./components/label")],["component.help",e("./components/help")],["component.fieldset",e("./components/fieldset")],["component.text",e("./components/text")],["component.textarea",e("./components/textarea")],["component.select",e("./components/select")],["component.list",e("./components/list")],["component.list-control",e("./components/list-control")],["component.list-item",e("./components/list-item")],["component.list-item-value",e("./components/list-item-value")],["component.list-item-control",e("./components/list-item-control")],["component.item-choices",e("./components/item-choices")],["component.add-item",e("./components/add-item")],["component.remove-item",e("./components/remove-item")],["component.move-item-back",e("./components/move-item-back")],["component.move-item-forward",e("./components/move-item-forward")],["component.json",e("./components/json")],["component.checkbox-list",e("./components/checkbox-list")],["component.pretty-textarea",e("./components/pretty-textarea")],["bootstrap",e("./plugins/bootstrap")]);var f=a();t.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compilers/choices":2,"./compilers/lookup":3,"./compilers/prop-aliases":4,"./compilers/types":5,"./components/add-item":6,"./components/checkbox-list":7,"./components/field":8,"./components/fieldset":9,"./components/formatic":10,"./components/help":11,"./components/item-choices":12,"./components/json":13,"./components/label":14,"./components/list":19,"./components/list-control":15,"./components/list-item":18,"./components/list-item-control":16,"./components/list-item-value":17,"./components/move-item-back":23,"./components/move-item-forward":24,"./components/pretty-textarea":25,"./components/remove-item":26,"./components/root":27,"./components/select":28,"./components/text":29,"./components/textarea":30,"./core/field":31,"./core/form":33,"./core/form-init":32,"./core/formatic":34,"./default/compiler":35,"./default/component":36,"./default/core":37,"./default/eval":38,"./default/field-router":39,"./default/field-routes":40,"./default/loader":41,"./default/util":42,"./plugins/bootstrap":44,"./store/memory":45,"./types/array":46,"./types/boolean":47,"./types/json":48,"./types/object":49,"./types/root":50,"./types/string":51}],44:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i={field:{className:"form-group"},help:{className:"help-block"},text:{className:"form-control"},textarea:{className:"form-control"},"pretty-textarea":{className:"form-control"},json:{className:"form-control"},select:{className:"form-control"},list:{className:"well"},"list-control":{className:"form-inline"},"list-item":{className:"well"},"item-choices":{className:"form-control"},"add-item":{className:"glyphicon glyphicon-plus",label:""},"remove-item":{className:"glyphicon glyphicon-remove",label:""},"move-item-back":{className:"glyphicon glyphicon-arrow-up",label:""},"move-item-forward":{className:"glyphicon glyphicon-arrow-down",label:""}};t.each(i,function(e,i){n["component-props."+i+".bootstrap"]=function(n){var o=n.require("util");n.exports=[i,function(n){t.isUndefined(e.className)||(n.className=o.className(n.className,e.className)),t.isUndefined(e.label)||(n.label=e.label)}]}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t){(function(n){"use strict";var i=e("reflux"),o="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t.exports=function(e){var t=e.require("compiler"),n=e.require("util");e.exports.create=function(e,s,r){return i.createStore({init:function(){var i=this;i.fields=[],i.templateMap={},r.fields&&(i.fields=t.expandFields(r.fields),i.fields=t.compileFields(i.fields),i.templateMap=t.templateMap(i.fields),i.fields=i.fields.filter(function(e){return!e.template})),i.value=o.isUndefined(r.value)?{}:n.copyValue(r.value),i.meta={},i.listenToMany(e)},inflate:function(){var e=this,t=s.field();t.inflate(function(t,i){e.value=n.setIn(e.value,t,i)})},setValue:function(e,t){var i=this;o.isUndefined(t)&&(t=e,e=[]),0===e.length?(i.value=n.copyValue(t),i.inflate()):i.value=n.setIn(i.value,e,t),i.update()},removeValue:function(e){var t=this;t.value=n.removeIn(t.value,e),t.update()},eraseValue:function(e){var t=this;t.value=n.removeIn(t.value,e)},appendValue:function(e,t){var i=this;i.value=n.appendIn(i.value,e,t),i.update()},moveValue:function(e,t,i){var o=this;o.value=n.moveIn(o.value,e,t,i),o.update()},setFields:function(e){var t=this;t.fields=e,t.inflate(),t.update()},setMeta:function(e,t){var n=this;n.meta[e]=t,n.update()},update:function(){this.trigger({value:this.value,meta:this.meta,fields:this.fields})}})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{reflux:62}],46:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){e.exports.default=[],e.exports.fields=function(e){return n.isArray(e.value)?e.value.map(function(t,n){var i=e.itemForValue(t);return i.key=n,e.createChild(i)}):[]}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t){"use strict";t.exports=function(e){e.exports.default=!1,e.exports.compile=function(e){e.choices||(e.choices=[{value:!0,label:"Yes"},{value:!1,label:"No"}])}}},{}],48:[function(e,t){"use strict";t.exports=function(e){e.exports.default=null}},{}],49:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.require("util");e.exports.default={},e.exports.fields=function(e){var i=[],o=e.value,s=n.keys(o);return e.def.fields&&(i=e.def.fields.map(function(i){var o=e.createChild(i);return t.isBlank(o.def.key)||(s=n.without(s,o.def.key)),o})),s.length>0&&s.forEach(function(t){var n=e.itemForValue(o[t]);n.key=t,i.push(e.createChild(n))}),i}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t){"use strict";t.exports=function(e){e.exports.fields=function(e){return e.form.store.fields.map(function(t){return e.createChild(t)})}}},{}],51:[function(e,t){"use strict";t.exports=function(e){e.exports.default=""}},{}],52:[function(e,t){t.exports=e("./src/component")},{"./src/component":53}],53:[function(e,t){var n=e("react"),i=n.createClass({propTypes:{triggersClass:n.PropTypes.string,expandClass:n.PropTypes.string,contractClass:n.PropTypes.string,embedCss:n.PropTypes.bool,onResize:n.PropTypes.func.isRequired},getDefaultProps:function(){return{triggersClass:"resize-triggers",expandClass:"expand-trigger",contractClass:"contract-trigger",embedCss:!0}},requestFrame:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)})(e)},cancelFrame:function(e){return(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout)(e)},componentDidMount:function(){this.resetTriggers()},componentDidUpdate:function(){this.resetTriggers()},resetTriggers:function(){var e=this.refs.contract.getDOMNode(),t=this.refs.expandChild.getDOMNode(),n=this.refs.expandChild.getDOMNode();e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,t.style.width=n.offsetWidth+1+"px",t.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},checkTriggers:function(){var e=this.refs.resizable.getDOMNode();return e.offsetWidth!=this.lastWidth||e.offsetHeight!=this.lastHeight},onScroll:function(){this.r&&this.cancelFrame(this.r),this.r=this.requestFrame(function(){if(this.checkTriggers()){var e=this.refs.resizable.getDOMNode();this.lastWidth=e.offsetWidth,this.lastHeight=e.offsetHeight,this.props.onResize({width:this.lastWidth,height:this.lastHeight})}}.bind(this))},render:function(){return this.transferPropsTo(n.DOM.div({onScroll:this.onScroll,ref:"resizable"},[this.props.children,n.DOM.div({className:this.props.triggersClass},[n.DOM.div({className:this.props.expandClass,ref:"expand"},n.DOM.div({ref:"expandChild"})),n.DOM.div({className:this.props.contractClass,ref:"contract"})]),this.props.embedCss?n.DOM.style({},'.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'):null]))}});t.exports=i},{react:"react"}],54:[function(e,t){"use strict";function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];for(var t=0,n=this._events[e].length,i=[];n>t;t++)i.push(this._events[e][t].fn);return i},i.prototype.emit=function(e,t,n,i,o,s){if(!this._events||!this._events[e])return!1;var r,a,l,f=this._events[e],u=f.length,c=arguments.length,p=f[0];if(1===u){switch(p.once&&this.removeListener(e,p.fn,!0),c){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,n),!0;case 4:return p.fn.call(p.context,t,n,i),!0;case 5:return p.fn.call(p.context,t,n,i,o),!0;case 6:return p.fn.call(p.context,t,n,i,o,s),!0}for(a=1,r=new Array(c-1);c>a;a++)r[a-1]=arguments[a];p.fn.apply(p.context,r)}else for(a=0;u>a;a++)switch(f[a].once&&this.removeListener(e,f[a].fn,!0),c){case 1:f[a].fn.call(f[a].context);break;case 2:f[a].fn.call(f[a].context,t);break;case 3:f[a].fn.call(f[a].context,t,n);break;default:if(!r)for(l=1,r=new Array(c-1);c>l;l++)r[l-1]=arguments[l];f[a].fn.apply(f[a].context,r)}return!0},i.prototype.on=function(e,t,i){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),this._events[e].push(new n(t,i||this)),this},i.prototype.once=function(e,t,i){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),this._events[e].push(new n(t,i||this,!0)),this},i.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var i=this._events[e],o=[];if(t)for(var s=0,r=i.length;r>s;s++)i[s].fn!==t&&i[s].once!==n&&o.push(i[s]);return this._events[e]=o.length?o:null,this},i.prototype.removeAllListeners=function(e){return this._events?(e?this._events[e]=null:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,"object"==typeof t&&t.exports&&(t.exports=i)},{}],55:[function(e,t,n){n.createdStores=[],n.createdActions=[],n.reset=function(){for(;n.createdStores.length;)n.createdStores.pop();for(;n.createdActions.length;)n.createdActions.pop()}},{}],56:[function(e,t){var n=e("./utils"),i=e("./joins").instanceJoinCreator;t.exports={hasListener:function(e){for(var t,n=0;n<(this.subscriptions||[]).length;++n)if(t=this.subscriptions[n].listenable,t===e||t.hasListener&&t.hasListener(e))return!0;return!1},listenToMany:function(e){for(var t in e){var i=n.callbackName(t),o=this[i]?i:this[t]?t:void 0;o&&this.listenTo(e[t],o,this[i+"Default"]||this[o+"Default"]||o)}},validateListening:function(e){return e===this?"Listener is not able to listen to itself":n.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},listenTo:function(e,t,i){var o,s,r,a=this.subscriptions=this.subscriptions||[];return n.throwIf(this.validateListening(e)),this.fetchDefaultData(e,i),o=e.listen(this[t]||t,this),s=function(){var e=a.indexOf(r);n.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),a.splice(e,1),o()},r={stop:s,listenable:e},a.push(r),r},stopListeningTo:function(e){for(var t,i=0,o=this.subscriptions||[];i<o.length;i++)if(t=o[i],t.listenable===e)return t.stop(),n.throwIf(-1!==o.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),n.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},fetchDefaultData:function(e,t){t=t&&this[t]||t;var i=this;n.isFunction(t)&&n.isFunction(e.getDefaultData)&&(data=e.getDefaultData(),data&&n.isFunction(data.then)?data.then(function(){t.apply(i,arguments)}):t.call(this,data))},joinTrailing:i("last"),joinLeading:i("first"),joinConcat:i("all"),joinStrict:i("strict")}},{"./joins":63,"./utils":66}],57:[function(e,t){var n=e("./utils"),i=e("./ListenerMethods");t.exports=n.extend({componentWillUnmount:i.stopListeningToAll},i)},{"./ListenerMethods":56,"./utils":66}],58:[function(e,t){var n=e("./utils");t.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(e,t){var n=function(n){e.apply(t,n)},i=this;return this.emitter.addListener(this.eventLabel,n),function(){i.emitter.removeListener(i.eventLabel,n)}},trigger:function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:n.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},triggerAsync:function(){var e=arguments,t=this;n.nextTick(function(){t.trigger.apply(t,e)})}}},{"./utils":66}],59:[function(e,t){var n=e("../src"),i=e("./utils");t.exports=function(e,t){return{componentDidMount:function(){for(var o in n.ListenerMethods)if(this[o]!==n.ListenerMethods[o]){if(this[o])throw"Can't have other property '"+o+"' when using Reflux.listenTo!";this[o]=n.ListenerMethods[o]}var s=this,r=void 0===t?this.setState:function(e){s.setState(i.object([t],[e]))};this.listenTo(e,r,r)},componentWillUnmount:n.ListenerMixin.componentWillUnmount}}},{"../src":62,"./utils":66}],60:[function(e,t){var n=e("./utils"),i=e("../src"),o=e("./Keep"),s={preEmit:1,shouldEmit:1};t.exports=function(e){e=e||{};for(var t in e)if(!s[t]&&i.PublisherMethods[t])throw new Error("Cannot override API method "+t+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");var r=n.extend({eventLabel:"action",emitter:new n.EventEmitter,_isAction:!0},i.PublisherMethods,e),a=function(){a[a.sync?"trigger":"triggerAsync"].apply(a,arguments)};return n.extend(a,r),o.createdActions.push(a),a}},{"../src":62,"./Keep":55,"./utils":66}],61:[function(e,t){var n=e("./utils"),i=e("../src"),o=e("./Keep"),s={preEmit:1,shouldEmit:1};t.exports=function(e){function t(){var e,t=0;if(this.subscriptions=[],this.emitter=new n.EventEmitter,this.eventLabel="change",this.init&&n.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);t<e.length;t++)this.listenToMany(e[t])}e=e||{};for(var r in e)if(!s[r]&&(i.PublisherMethods[r]||i.ListenerMethods[r]))throw new Error("Cannot override API method "+r+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");n.extend(t.prototype,i.ListenerMethods,i.PublisherMethods,e);var a=new t;return o.createdStores.push(a),a}},{"../src":62,"./Keep":55,"./utils":66}],62:[function(e,t,n){n.ListenerMethods=e("./ListenerMethods"),n.PublisherMethods=e("./PublisherMethods"),n.createAction=e("./createAction"),n.createStore=e("./createStore"),n.connect=e("./connect"),n.ListenerMixin=e("./ListenerMixin"),n.listenTo=e("./listenTo"),n.listenToMany=e("./listenToMany");var i=e("./joins").staticJoinCreator;n.joinTrailing=n.all=i("last"),n.joinLeading=i("first"),n.joinStrict=i("strict"),n.joinConcat=i("all"),n.createActions=function(e){for(var t=0,i={};t<e.length;t++)i[e[t]]=n.createAction();return i},n.setEventEmitter=function(t){var n=e("./utils");n.EventEmitter=t},n.nextTick=function(t){var n=e("./utils");n.nextTick=t},n.__keep=e("./Keep")},{"./Keep":55,"./ListenerMethods":56,"./ListenerMixin":57,"./PublisherMethods":58,"./connect":59,"./createAction":60,"./createStore":61,"./joins":63,"./listenTo":64,"./listenToMany":65,"./utils":66}],63:[function(e,t,n){function i(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function o(e,t){return function(){var n=r.call(arguments);if(t.listenablesEmitted[e])switch(t.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":t.args[e]=n;break;case"all":t.args[e].push(n)}else t.listenablesEmitted[e]=!0,t.args[e]="all"===t.strategy?[n]:n;s(t)}}function s(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),i(e)}var r=Array.prototype.slice,a=e("./createStore"),l={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};n.staticJoinCreator=function(e){return function(){var t=r.call(arguments);return a({init:function(){this[l[e]].apply(this,t.concat("triggerAsync"))}})}},n.instanceJoinCreator=function(e){return function(){for(var t=r.call(arguments),n=t.pop(),s=t.length,a={numberOfListenables:s,callback:this[n]||n,listener:this,strategy:e},l=0;s>l;l++)this.listenTo(t[l],o(l,a));i(a)}}},{"./createStore":61}],64:[function(e,t){var n=e("../src");t.exports=function(e,t,i){return{componentDidMount:function(){for(var o in n.ListenerMethods)if(this[o]!==n.ListenerMethods[o]){if(this[o])throw"Can't have other property '"+o+"' when using Reflux.listenTo!";this[o]=n.ListenerMethods[o]}this.listenTo(e,t,i)},componentWillUnmount:n.ListenerMethods.stopListeningToAll}}},{"../src":62}],65:[function(e,t){var n=e("../src");t.exports=function(e){return{componentDidMount:function(){for(var t in n.ListenerMethods)if(this[t]!==n.ListenerMethods[t]){if(this[t])throw"Can't have other property '"+t+"' when using Reflux.listenToMany!";this[t]=n.ListenerMethods[t]}this.listenToMany(e)},componentWillUnmount:n.ListenerMethods.stopListeningToAll}}},{"../src":62}],66:[function(e,t,n){var i=n.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e};n.extend=function(e){if(!i(e))return e;for(var t,n,o=1,s=arguments.length;s>o;o++){t=arguments[o];for(n in t)e[n]=t[n]}return e},n.isFunction=function(e){return"function"==typeof e},n.EventEmitter=e("eventemitter3"),n.nextTick=function(e){setTimeout(e,0)},n.callbackName=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)},n.object=function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[i];return n},n.isArguments=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&("[object Arguments]"===toString.call(e)||hasOwnProperty.call(e,"callee"&&!propertyIsEnumerable.call(e,"callee")))||!1},n.throwIf=function(e,t){if(e)throw Error(t||e)}},{eventemitter3:54}]},{},[1]);