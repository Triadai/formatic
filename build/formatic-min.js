!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Formatic=e()}}(function(){return function e(t,n,i){function o(l,r){if(!n[l]){if(!t[l]){var a="function"==typeof require&&require;if(!r&&a)return a(l,!0);if(s)return s(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[l].exports}for(var s="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t){t.exports=e("./lib/formatic")},{"./lib/formatic":35}],2:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet,l=i.createFactory(i.addons.CSSTransitionGroup);t.exports=i.createClass({displayName:"Array",mixins:[e("../../mixins/field")],nextLookupId:0,getInitialState:function(){var e=[],t=this.props.field.value;return t.forEach(function(t,n){e[n]="_"+this.nextLookupId,this.nextLookupId++}.bind(this)),{lookups:e}},componentWillReceiveProps:function(e){var t=this.state.lookups,n=e.field.value;if(n.length>t.length)for(var i=t.length;i<n.length;i++)t[i]="_"+this.nextLookupId,this.nextLookupId++;this.setState({lookups:t})},onChange:function(e,t,n){var i=this.props.field.value.slice(0);i[e]=t,this.onBubbleValue(i,n)},onAppend:function(e){var t=this.props.config,n=this.props.field,i=t.createNewChildFieldValue(n,e),o=n.value;o=o.concat(i),this.onChangeValue(o)},onRemove:function(e){var t=this.state.lookups;t.splice(e,1),this.setState({lookups:t});var n=this.props.field.value.slice(0);n.splice(e,1),this.onChangeValue(n)},onMove:function(e,t){var n=this.state.lookups,i=n[e],o=n[t];n[e]=o,n[t]=i,this.setState({lookups:n});var s=this.props.field.value.slice(0);e!==t&&e>=0&&e<s.length&&t>=0&&t<s.length&&s.splice(t,0,s.splice(e,1)[0]),this.onChangeValue(s)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.createChildFields(t),i=t.value.length;return e.createElement("field",{field:t,plain:this.props.plain},o.div({className:s(this.props.classes)},l({transitionName:"reveal"},n.map(function(t,n){return e.createElement("array-item",{key:this.state.lookups[n],field:t,index:n,numItems:i,onMove:this.onMove,onRemove:this.onRemove,onChange:this.onChange,onAction:this.onBubbleAction})}.bind(this))),e.createElement("array-control",{field:t,onAppend:this.onAppend})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],3:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null;t.exports=i.createClass({displayName:"Boolean",mixins:[e("../../mixins/field")],onChange:function(e){this.onChangeValue(e)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.fieldBooleanChoices(t);return e.createElement("field",{field:t,plain:this.props.plain},e.createElement("select-value",{choices:n,field:t,onChange:this.onChange,onAction:this.onBubbleAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],4:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet;t.exports=i.createClass({displayName:"CheckboxList",mixins:[e("../../mixins/field")],getInitialState:function(){return{choices:this.props.config.fieldChoices(this.props.field)}},componentWillReceiveProps:function(e){this.setState({choices:e.config.fieldChoices(e.field)})},onChange:function(){var e=this.refs.choices.getDOMNode().getElementsByTagName("input");e=Array.prototype.slice.call(e,0);var t=e.map(function(e){return e.checked?e.value:null}).filter(function(e){return e});this.onChangeValue(t)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=this.state.choices||[],i=!s.find(n,function(e){return e.sample});return e.createElement("field",{field:t},o.div({className:l(this.props.classes),ref:"choices"},n.map(function(n,s){var l=o.span({style:{whiteSpace:"nowrap"}},o.input({name:t.key,type:"checkbox",value:n.value,checked:t.value.indexOf(n.value)>=0?!0:!1,onChange:this.onChange,onFocus:this.onFocusAction,onBlur:this.onBlurAction})," ",o.span({className:"field-choice-label"},n.label));return i?o.span({key:s,className:"field-choice"},l," "):o.div({key:s,className:"field-choice"},l," ",e.createElement("sample",{field:t,choice:n}))}.bind(this))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],5:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Copy",mixins:[e("../../mixins/field")],render:function(){return this.renderWithConfig()},renderDefault:function(){return o.div({className:s(this.props.classes)},this.props.config.fieldHelpText(this.props.field))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],6:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet;t.exports=i.createClass({displayName:"Fields",mixins:[e("../../mixins/field")],onChangeField:function(e,t,n){if(e){var i=s.extend({},this.props.field.value);i[e]=t,this.onBubbleValue(i,n)}},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.createChildFields(t);return e.createElement("field",{config:e,field:t,plain:this.props.plain},o.fieldset({className:l(this.props.classes)},n.map(function(t,n){var i=t.key||n;return e.createFieldElement({key:i||n,field:t,onChange:this.onChangeField.bind(this,i),onAction:this.onBubbleAction})}.bind(this))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],7:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Json",mixins:[e("../../mixins/field")],getDefaultProps:function(){return{rows:5}},isValidValue:function(e){try{return JSON.parse(e),!0}catch(t){return!1}},getInitialState:function(){return{isValid:!0,value:JSON.stringify(this.props.field.value,null,2)}},onChange:function(e){var t=this.isValidValue(e.target.value);t&&(this._isChanging=!0,this.onChangeValue(JSON.parse(e.target.value))),this.setState({isValid:t,value:e.target.value})},componentWillReceiveProps:function(e){this._isChanging||this.setState({isValid:!0,value:JSON.stringify(e.field.value,null,2)}),this._isChanging=!1},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return e.createElement("field",{field:e.fieldWithValue(t,this.state.value),plain:this.props.plain},o.textarea({className:s(this.props.classes),value:this.state.value,onChange:this.onChange,style:{backgroundColor:this.state.isValid?"":"rgb(255,200,200)"},rows:e.fieldRows(t)||this.props.rows,onFocus:this.onFocusAction,onBlur:this.onBlurAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],8:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet,r=i.createFactory(i.addons.CSSTransitionGroup),a="$$__temp__",c=function(e){return a+e},d=function(e){return e.substring(0,a.length)===a};t.exports=i.createClass({displayName:"Object",mixins:[e("../../mixins/field")],nextLookupId:0,getInitialState:function(){var e={},t=Object.keys(this.props.field.value),n=[],i={};return t.forEach(function(t){var o=++this.nextLookupId;e[t]=o,n.push(t),d(t)&&(i[o]="")}.bind(this)),{keyToId:e,keyOrder:n,tempDisplayKeys:i}},componentWillReceiveProps:function(e){var t=this.state.keyToId,n={},i=this.state.tempDisplayKeys,o={},s=this.state.keyOrder,l=Object.keys(e.field.value),r=[];l.forEach(function(e){t[e]?n[e]=t[e]:(this.nextLookupId++,n[e]=this.nextLookupId,r.push(e)),d(e)&&n[e]in i&&(o[n[e]]=i[n[e]])}.bind(this));var a=[];s.forEach(function(e){n[e]&&a.push(e)}),a=a.concat(r),this.setState({keyToId:n,keyOrder:a,tempDisplayKeys:o})},onChange:function(e,t,n){var i=s.extend({},this.props.field.value);i[e]=t,this.onBubbleValue(i,n)},onAppend:function(e){var t=this.props.config,n=this.props.field;this.nextLookupId++;var i=this.state.keyToId,o=this.state.keyOrder,l=this.state.tempDisplayKeys,r=this.nextLookupId,a=c(r);i[a]=r,l[r]="",o.push(a),this.setState({keyToId:i,tempDisplayKeys:l,keyOrder:o});var d=s.extend(this.props.field.value),u=t.createNewChildFieldValue(n,e);d[a]=u,this.onChangeValue(d)},onRemove:function(e){var t=s.extend(this.props.field.value);delete t[e],this.onChangeValue(t)},onMove:function(e,t){if(e!==t){var n=this.state.keyToId,i=this.state.keyOrder,o=this.state.tempDisplayKeys,l=s.extend(this.props.field.value);if(n[t]){var r=c(n[t]);o[n[t]]=t,n[r]=n[t],i[i.indexOf(t)]=r,delete n[t],this.setState({keyToId:n,tempDisplayKeys:o,keyOrder:i}),l[r]=l[t],delete l[t]}t||(t=c(n[e]),o[n[e]]=""),n[t]=n[e],delete n[e],i[i.indexOf(e)]=t,this.setState({keyToId:n,keyOrder:i,tempDisplayKeys:o}),l[t]=l[e],delete l[e],this.onChangeValue(l),e&&e!==t&&(e in l||Object.keys(l).forEach(function(t){if(d(t)){var i=n[t],s=o[i];e===s&&this.onMove(t,s)}}.bind(this)))}},getFields:function(){var e=this.props.config,t=this.props.field,n=e.createChildFields(t),i={};return s.each(n,function(e){i[e.key]=e}),this.state.keyOrder.map(function(e){return i[e]})},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=this.getFields();return e.createElement("field",{field:t,plain:this.props.plain},o.div({className:l(this.props.classes)},r({transitionName:"reveal"},n.map(function(t){var n=this.state.tempDisplayKeys[this.state.keyToId[t.key]];return s.isUndefined(n)&&(n=t.key),e.createElement("object-item",{key:this.state.keyToId[t.key],field:t,onMove:this.onMove,onRemove:this.onRemove,onChange:this.onChange,onAction:this.onBubbleAction,displayKey:n,itemKey:t.key})}.bind(this))),e.createElement("object-control",{field:t,onAppend:this.onAppend})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],9:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet,r=e("../../utils"),a=function(e){return e.replace(/ /g," ")},c="  ",d="  ",u=/^[0-9]+__/,f=function(e){return u.test(e)?e.replace(u,""):e},p=function(e,t){var n=t.getBoundingClientRect();return e.x>=n.left&&e.x<=n.right&&e.y>=n.top&&e.y<=n.bottom?!0:void 0},h=function(e,t){return t=t||"text",{type:t,value:e}},m=function(e){e=e||"";var t=e.split(/{{(?!{)/),n=[];return""!==t[0]&&(n=[h(t[0])]),t=n.concat(t.slice(1).map(function(e){return e.indexOf("}}")>=0?[h(e.substring(0,e.indexOf("}}")),"tag"),h(e.substring(e.indexOf("}}")+2))]:h("{{"+e,"text")})),[].concat.apply([],t)};t.exports=i.createClass({displayName:"TaggedText",mixins:[e("../../mixins/field"),e("../../mixins/undo-stack"),e("../../mixins/resize")],getReplaceState:function(e){var t=e.config.fieldReplaceChoices(e.field),n={};return t.forEach(function(e){n[e.value]=e.label}),{replaceChoices:t,replaceChoicesLabels:n}},getInitialState:function(){var e=this.getReplaceState(this.props);return{undoDepth:100,isChoicesOpen:!1,hoverPillRef:null,replaceChoices:e.replaceChoices,replaceChoicesLabels:e.replaceChoicesLabels}},componentWillReceiveProps:function(e){this.setState(this.getReplaceState(e))},componentWillMount:function(){this.tracking={};var e=m(this.props.field.value),t=this.tokens(e),n=this.indexMap(t);this.tracking.pos=n.length,this.tracking.range=0,this.tracking.tokens=t,this.tracking.indexMap=n},getStateSnapshot:function(){return{value:this.props.field.value,pos:this.tracking.pos,range:this.tracking.range}},setStateSnapshot:function(e){this.tracking.pos=e.pos,this.tracking.range=e.range,this.onChangeValue(e.value)},tokens:function(e){return[].concat.apply([],e.map(function(e){return"tag"===e.type?e:e.value.split("")}))},indexMap:function(e){var t=[];return s.each(e,function(e,n){if("tag"===e.type){var i=c+a(this.prettyLabel(e.value))+d,o=i.split("");s.each(o,function(){t.push(n)})}else t.push(n)}.bind(this)),t},onScroll:function(){this.refs.highlight.getDOMNode().scrollTop=this.refs.content.getDOMNode().scrollTop,this.refs.highlight.getDOMNode().scrollLeft=this.refs.content.getDOMNode().scrollLeft},tokenIndex:function(e,t,n){if(0>e)e=0;else if(e>=n.length)return t.length;return n[e]},onChange:function(e){var t=e.target,n=this.tracking.pos,i=this.tracking.range,o=t.selectionStart,s=this.tracking.tokens,l=this.tokenIndex(n,s,this.tracking.indexMap),r=this.tokenIndex(n+i,s,this.tracking.indexMap),a=r-l;if(a>0&&(s.splice(l,a),this.tracking.indexMap=this.indexMap(s)),o>n){var c=t.value.substring(n,o);s.splice(l,0,c)}if(n>o){var d=this.tokenAt(o),u=this.tokenBefore(o);d===u&&(o=this.moveOffTag(o,s,this.indexMap(s),-1));var f=this.tokenIndex(o,s,this.tracking.indexMap);s.splice(f,l-f)}var p=this.rawValue(s);this.tracking.pos=o,this.tracking.range=0,this.onChangeValue(p),this.snapshot()},componentDidUpdate:function(){var e=this.props.field.value||"",t=m(e);this.tracking.tokens=this.tokens(t),this.tracking.indexMap=this.indexMap(this.tracking.tokens);var n=this.normalizePosition(this.tracking.pos),i=this.tracking.range,o=this.normalizePosition(n+i);i=o-n,this.tracking.pos=n,this.tracking.range=i,document.activeElement===this.refs.content.getDOMNode()&&this.refs.content.getDOMNode().setSelectionRange(n,n+i)},prettyLabel:function(e){if(this.state.replaceChoicesLabels[e])return this.state.replaceChoicesLabels[e];var t=f(e);return this.props.config.humanize(t)},plainValue:function(e){var t=m(e);return t.map(function(e){return"text"===e.type?e.value:c+a(this.prettyLabel(e.value))+d}.bind(this)).join("")},prettyValue:function(e){var t=m(e);return t.map(function(e,n){if("text"===e.type)return n===t.length-1&&"\n"===e.value[e.value.length-1]?e.value+" ":e.value;var i="prettyPart"+n,s="pretty-part";return this.state.hoverPillRef&&i===this.state.hoverPillRef&&(s+=" pretty-part-hover"),o.span({key:n,className:s,ref:i,"data-pretty":!0,"data-ref":i},o.span({className:"pretty-part-left"},c),o.span({className:"pretty-part-text"},a(this.prettyLabel(e.value))),o.span({className:"pretty-part-right"},d))}.bind(this))},rawValue:function(e){return e.map(function(e){return"tag"===e.type?"{{"+e.value+"}}":e}).join("")},moveOffTag:function(e,t,n,i){i="undefined"==typeof i||i>0?1:-1;var o;if(i>0)for(o=t[n[e]];e<n.length&&"tag"===t[n[e]].type&&t[n[e]]===o;)e++;else for(o=t[n[e-1]];e>0&&"tag"===t[n[e-1]].type&&t[n[e-1]]===o;)e--;return e},tokenAt:function(e){return e>=this.tracking.indexMap.length?null:(0>e&&(e=0),this.tracking.tokens[this.tracking.indexMap[e]])},tokenBefore:function(e){return e>=this.tracking.indexMap.length&&(e=this.tracking.indexMap.length),0>=e?null:this.tracking.tokens[this.tracking.indexMap[e-1]]},normalizePosition:function(e,t){if(s.isUndefined(t)&&(t=e),0>=e||e>=this.tracking.indexMap.length)return 0>e&&(e=0),e>this.tracking.indexMap.length&&(e=this.tracking.indexMap.length),e;var n=this.tokenAt(e),i=this.tokenBefore(e);if(n!==i)return e;var o=this.tokenAt(t),l=this.tokenBefore(t),r=this.moveOffTag(e,this.tracking.tokens,this.tracking.indexMap),a=this.moveOffTag(e,this.tracking.tokens,this.tracking.indexMap,-1);if(o!==l){if(o===n)return r;if(l===n)return a}var c=r;return(e===t||t>e)&&r-e>e-a&&(c=a),c},onSelect:function(e){var t=e.target,n=t.selectionStart,i=t.selectionEnd;if(n===i&&this.state.hoverPillRef){var o=this.tokenAt(n),s=this.tokenBefore(n);if(o&&o===s&&o.type&&"tag"===o.type){var l=this.moveOffTag(n,this.tracking.tokens,this.tracking.indexMap),r=this.moveOffTag(n,this.tracking.tokens,this.tracking.indexMap,-1);return this.tracking.pos=r,this.tracking.range=l-r,t.selectionStart=r,t.selectionEnd=l,void(this.state.isChoicesOpen||this.setChoicesOpen(!0))}}n=this.normalizePosition(n,this.tracking.pos),i=this.normalizePosition(i,this.tracking.pos+this.tracking.range),this.tracking.pos=n,this.tracking.range=i-n,t.selectionStart=n,t.selectionEnd=i},onCopy:function(){var e=this.refs.content.getDOMNode(),t=e.selectionStart,n=e.selectionEnd,i=e.value.substring(t,n),o=this.tokenIndex(t,this.tracking.tokens,this.tracking.indexMap),s=this.tokenIndex(n,this.tracking.tokens,this.tracking.indexMap),l=this.tracking.tokens.slice(o,s);i=this.rawValue(l);var r=e.value;e.value=e.value+i,e.setSelectionRange(r.length,r.length+i.length),window.setTimeout(function(){e.value=r,e.setSelectionRange(t,n)},0)},onCut:function(){var e=this.refs.content.getDOMNode(),t=e.selectionStart,n=e.selectionEnd,i=e.value.substring(t,n),o=this.tokenIndex(t,this.tracking.tokens,this.tracking.indexMap),s=this.tokenIndex(n,this.tracking.tokens,this.tracking.indexMap),l=this.tracking.tokens.slice(o,s);i=this.rawValue(l);var r=e.value,a=e.value.substring(0,t)+e.value.substring(n);e.value=e.value+i,e.setSelectionRange(r.length,r.length+i.length);var c=this.tracking.tokens.slice(0,o).concat(this.tracking.tokens.slice(s));window.setTimeout(function(){e.value=a,e.setSelectionRange(t,t),this.tracking.pos=t,this.tracking.range=0,this.tracking.tokens=c,this.tracking.indexMap=this.indexMap(this.tracking.tokens);var n=this.rawValue(this.tracking.tokens);this.onChangeValue(n),this.snapshot()}.bind(this),0)},onKeyDown:function(e){37===e.keyCode?this.leftArrowDown=!0:39===e.keyCode&&(this.rightArrowDown=!0),90!==e.keyCode||!e.metaKey&&!e.ctrlKey||e.shiftKey?(89===e.keyCode&&e.ctrlKey&&!e.shiftKey||90===e.keyCode&&e.metaKey&&e.shiftKey)&&this.redo():(e.preventDefault(),this.undo())},onKeyUp:function(e){37===e.keyCode?this.leftArrowDown=!1:39===e.keyCode&&(this.rightArrowDown=!1)},adjustStyles:function(e){var t=this.refs.highlight.getDOMNode(),n=this.refs.content.getDOMNode(),i=window.getComputedStyle(n),o=i.backgroundColor;if(r.copyElementStyle(n,t),t.style.position="absolute",t.style.whiteSpace="pre-wrap",t.style.color="rgba(0,0,0,0)",t.style.webkitTextFillColor="rgba(0,0,0,0)",t.style.resize="none",t.style.borderColor="rgba(0,0,0,0)",r.browser.isMozilla){var s=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),a=parseFloat(i.borderTopWidth),c=parseFloat(i.borderBottomWidth);t.style.paddingTop="0px",t.style.paddingBottom="0px",t.style.height=n.clientHeight-s-l+a+c+"px",t.style.top=i.paddingTop,t.style.boxShadow="none"}e&&(this.backgroundColor=o),t.style.backgroundColor=this.backgroundColor,n.style.backgroundColor="rgba(0,0,0,0)"},onResize:function(){this.adjustStyles()},onResizeWindow:function(){this.adjustStyles()},componentDidMount:function(){this.adjustStyles(!0),this.setOnResize("content",this.onResize)},onInsertFromSelect:function(e){if(e.target.selectedIndex>0){var t=e.target.value;e.target.selectedIndex=0;var n=this.tracking.pos,i=this.normalizePosition(n),o=this.tracking.tokens,s=this.tokenIndex(i,o,this.tracking.indexMap);o.splice(s,0,{type:"tag",value:t}),this.tracking.indexMap=this.indexMap(o);var l=this.rawValue(o);this.tracking.pos+=this.prettyLabel(t).length,this.onChangeValue(l),this.refs.content.getDOMNode().focus()}},onInsert:function(e){var t=e,n=this.tracking.pos,i=this.tracking.pos+this.tracking.range,o=this.normalizePosition(n),s=this.normalizePosition(i),l=this.tracking.tokens,r=this.tokenIndex(o,l,this.tracking.indexMap),a=this.tokenIndex(s,l,this.tracking.indexMap);l.splice(r,a-r,{type:"tag",value:t}),this.tracking.indexMap=this.indexMap(l);var c=this.rawValue(l);this.tracking.pos+=this.prettyLabel(t).length,this.onChangeValue(c),this.setState({isChoicesOpen:!1}),this.refs.content.getDOMNode().focus()},onToggleChoices:function(){this.setChoicesOpen(!this.state.isChoicesOpen)},onCloseChoices:function(){this.state.isChoicesOpen&&this.setChoicesOpen(!1)},setChoicesOpen:function(e){this.onStartAction(e?"open-replacements":"close-replacements"),this.setState({isChoicesOpen:e})},closeChoices:function(){},getCloseIgnoreNodes:function(){return this.refs.toggle.getDOMNode()},onClickOutsideChoices:function(){},onMouseMove:function(e){for(var t={x:e.clientX,y:e.clientY},n=this.refs.highlight.getDOMNode().childNodes,i=null,o=0;o<n.length;o++){var s=n[o];if(n[o].getAttribute("data-pretty")&&p(t,s)){i=s;break}}i?this.state.hoverPillRef!==i.getAttribute("data-ref")&&this.setState({hoverPillRef:i.getAttribute("data-ref")}):this.state.hoverPillRef&&this.setState({hoverPillRef:null})},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=this.state.replaceChoices;return e.createElement("field",{field:t,plain:this.props.plain},o.div({style:{position:"relative"}},o.pre({className:"pretty-highlight",ref:"highlight"},this.prettyValue(this.props.field.value)),(e.fieldIsSingleLine(t)?o.input:o.textarea)({type:"text",className:l(s.extend({},this.props.classes,{"pretty-content":!0})),ref:"content",rows:t.rows||this.props.rows,name:t.key,value:this.plainValue(this.props.field.value),onChange:this.onChange,onScroll:this.onScroll,style:{position:"relative",top:0,left:0,cursor:this.state.hoverPillRef?"pointer":null},onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onSelect:this.onSelect,onCopy:this.onCopy,onCut:this.onCut,onMouseMove:this.onMouseMove,onFocus:this.onFocusAction,onBlur:this.onBlurAction}),o.a({ref:"toggle",href:"JavaScript:",onClick:this.onToggleChoices},"Insert..."),e.createElement("choices",{ref:"choices",choices:n,open:this.state.isChoicesOpen,onSelect:this.onInsert,onClose:this.onCloseChoices,ignoreCloseNodes:this.getCloseIgnoreNodes})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37,"../../mixins/resize":40,"../../mixins/undo-stack":42,"../../utils":46}],10:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null;t.exports=i.createClass({displayName:"Select",mixins:[e("../../mixins/field")],getInitialState:function(){return{choices:this.props.config.fieldChoices(this.props.field)}},componentWillReceiveProps:function(e){this.setState({choices:e.config.fieldChoices(e.field)})},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return e.createElement("field",{config:e,field:t,plain:this.props.plain},e.createElement("select-value",{choices:this.state.choices,field:t,onChange:this.onChangeValue,onAction:this.onBubbleAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],11:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"String",mixins:[e("../../mixins/field")],onChange:function(e){this.onChangeValue(e.target.value)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return e.createElement("field",{config:e,field:t,plain:this.props.plain},o.textarea({value:this.props.field.value,className:s(this.props.classes),rows:t.rows||this.props.rows,onChange:this.onChange,onFocus:this.onFocusAction,onBlur:this.onBlurAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],12:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Unicode",mixins:[e("../../mixins/field")],onChange:function(e){this.onChangeValue(e.target.value)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return e.createElement("field",{config:e,field:t,plain:this.props.plain},o.input({type:"text",value:this.props.field.value,className:s(this.props.classes),onChange:this.onChange,onFocus:this.onFocusAction,onBlur:this.onBlurAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],13:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM;t.exports=i.createClass({displayName:"Unknown",mixins:[e("../../mixins/field")],render:function(){return this.renderWithConfig()},renderDefault:function(){return o.div({},o.div({},"Component not found for: "),o.pre({},JSON.stringify(this.props.field.rawFieldTemplate,null,2)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/field":37}],14:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"AddItem",mixins:[e("../../mixins/helper")],getDefaultProps:function(){return{label:"[add]"}},render:function(){return this.renderWithConfig()},renderDefault:function(){return o.span({className:s(this.props.classes),onClick:this.props.onClick},this.props.label)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],15:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ArrayControl",mixins:[e("../../mixins/helper")],getInitialState:function(){return{fieldTemplateIndex:0}},onSelect:function(e){this.setState({fieldTemplateIndex:e})},onAppend:function(){this.props.onAppend(this.state.fieldTemplateIndex)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.fieldItemFieldTemplates(t),i=null;return n.length>0&&(i=e.createElement("field-template-choices",{field:t,fieldTemplateIndex:this.state.fieldTemplateIndex,onSelect:this.onSelect})),o.div({className:s(this.props.classes)},i," ",e.createElement("add-item",{field:t,onClick:this.onAppend}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],16:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ArrayItemControl",mixins:[e("../../mixins/helper")],onMoveBack:function(){this.props.onMove(this.props.index,this.props.index-1)},onMoveForward:function(){this.props.onMove(this.props.index,this.props.index+1)},onRemove:function(){this.props.onRemove(this.props.index)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return o.div({className:s(this.props.classes)},e.createElement("remove-item",{field:t,onClick:this.onRemove,onMaybeRemove:this.props.onMaybeRemove}),this.props.index>0?e.createElement("move-item-back",{field:t,onClick:this.onMoveBack}):null,this.props.index<this.props.numItems-1?e.createElement("move-item-forward",{field:t,onClick:this.onMoveForward}):null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],17:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ArrayItemValue",mixins:[e("../../mixins/helper")],onChangeField:function(e,t){this.props.onChange(this.props.index,e,t)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return o.div({className:s(this.props.classes)},e.createFieldElement({field:t,onChange:this.onChangeField,onAction:this.onBubbleAction}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],18:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet,l="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t.exports=i.createClass({displayName:"ArrayItem",mixins:[e("../../mixins/helper")],getInitialState:function(){return{isMaybeRemoving:!1}},render:function(){return this.renderWithConfig()},onMaybeRemove:function(e){this.setState({isMaybeRemoving:e})},renderDefault:function(){var e=this.props.config,t=this.props.field,n=l.extend({},this.props.classes);return this.state.isMaybeRemoving&&(n["maybe-removing"]=!0),o.div({className:s(n)},e.createElement("array-item-value",{field:t,index:this.props.index,onChange:this.props.onChange,onAction:this.onBubbleAction}),e.createElement("array-item-control",{field:t,index:this.props.index,numItems:this.props.numItems,onMove:this.props.onMove,onRemove:this.props.onRemove,onMaybeRemove:this.onMaybeRemove}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],19:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.createFactory(i.addons.CSSTransitionGroup);t.exports=i.createClass({displayName:"Choices",mixins:[e("../../mixins/helper"),e("../../mixins/click-outside")],getInitialState:function(){return{maxHeight:null,open:this.props.open}},getIgnoreCloseNodes:function(){if(!this.props.ignoreCloseNodes)return[];var e=this.props.ignoreCloseNodes();return s.isArray(e)||(e=[e]),e},componentDidMount:function(){this.setOnClickOutside("choices",function(e){s.find(this.getIgnoreCloseNodes(),function(t){return this.isNodeInside(e.target,t)}.bind(this))||this.props.onClose()}.bind(this)),this.adjustSize()},onSelect:function(e){this.props.onSelect(e.value)},onResizeWindow:function(){this.adjustSize()},onScrollWindow:function(){this.adjustSize()},adjustSize:function(){if(this.refs.choices){var e=this.refs.choices.getDOMNode(),t=e.getBoundingClientRect(),n=t.top,i=window.innerHeight,o=i-n;this.setState({maxHeight:o})}},componentWillReceiveProps:function(e){this.setState({open:e.open},function(){this.adjustSize()}.bind(this))},onScroll:function(){},onWheel:function(){},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.choices;return e&&0===e.length&&(e=[{value:"///empty///"}]),o.div({ref:"container",onWheel:this.onWheel,onScroll:this.onScroll,className:"choices-container",style:{userSelect:"none",WebkitUserSelect:"none",position:"absolute",maxHeight:this.state.maxHeight?this.state.maxHeight:null}},l({transitionName:"reveal"},this.props.open?o.ul({ref:"choices",className:"choices"},e.map(function(e,t){var n=null;
return n="///loading///"===e.value?o.a({href:"JavaScript:",onClick:this.props.onClose},o.span({className:"choice-label"},"Loading...")):"///empty///"===e.value?o.a({href:"JavaScript:",onClick:this.props.onClose},o.span({className:"choice-label"},"No choices available.")):o.a({href:"JavaScript:",onClick:this.onSelect.bind(this,e)},o.span({className:"choice-label"},e.label),o.span({className:"choice-sample"},e.sample)),o.li({key:t,className:"choice"},n)}.bind(this))):null))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/click-outside":36,"../../mixins/helper":38}],20:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"FieldTemplateChoices",mixins:[e("../../mixins/helper")],onChange:function(e){this.props.onSelect(parseInt(e.target.value))},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.fieldItemFieldTemplates(t),i=null;return n.length>1&&(i=o.select({className:s(this.props.classes),value:this.fieldTemplateIndex,onChange:this.onChange},n.map(function(e,t){return o.option({key:t,value:t},e.label||t)}))),i?i:o.span(null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],21:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet,r=i.createFactory(i.addons.CSSTransitionGroup);t.exports=i.createClass({displayName:"Field",mixins:[e("../../mixins/helper")],getInitialState:function(){return{collapsed:this.props.config.fieldIsCollapsed(this.props.field)?!0:!1}},onClickLabel:function(){this.setState({collapsed:!this.state.collapsed})},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config;if(this.props.plain)return this.props.children;var t=this.props.field,n=this.props.index;if(!s.isNumber(n)){var i=this.props.field.key;n=s.isNumber(i)?i:void 0}var a=s.extend({},this.props.classes);return e.fieldIsRequired(t)?(a.required=!0,(s.isUndefined(this.props.field.value)||""===this.props.field.value)&&(a["validation-error-required"]=!0)):a.optional=!0,o.div({className:l(a),style:{display:t.hidden?"none":""}},e.createElement("label",{config:e,field:t,index:n,onClick:e.fieldIsCollapsible(t)?this.onClickLabel:null}),r({transitionName:"reveal"},this.state.collapsed?[]:[e.createElement("help",{config:e,field:t,key:"help"}),this.props.children]))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],22:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Help",mixins:[e("../../mixins/helper")],render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config.fieldHelpText(this.props.field);return e?o.div({className:s(this.props.classes),dangerouslySetInnerHTML:{__html:e}}):o.span(null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],23:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Label",mixins:[e("../../mixins/helper")],render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.fieldLabel(t),i=null;if("number"==typeof this.props.index&&(i=""+(this.props.index+1)+".",n&&(i=i+" "+n)),n||i){var l=i||n;this.props.onClick&&(l=o.a({href:"JavaScript:",onClick:this.props.onClick},l)),i=o.label({},l)}var r;return e.fieldHasValueChildren(t)||(r=o.span({className:e.fieldIsRequired(t)?"required-text":"not-required-text"})),o.div({className:s(this.props.classes)},i," ",r)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],24:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"MoveItemBack",mixins:[e("../../mixins/helper")],getDefaultProps:function(){return{label:"[up]"}},render:function(){return this.renderWithConfig()},renderDefault:function(){return o.span({className:s(this.props.classes),onClick:this.props.onClick},this.props.label)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],25:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"MoveItemForward",mixins:[e("../../mixins/helper")],getDefaultProps:function(){return{label:"[down]"}},render:function(){return this.renderWithConfig()},renderDefault:function(){return o.span({className:s(this.props.classes),onClick:this.props.onClick},this.props.label)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],26:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ObjectControl",mixins:[e("../../mixins/helper")],getInitialState:function(){return{fieldTemplateIndex:0}},onSelect:function(e){this.setState({fieldTemplateIndex:e})},onAppend:function(){this.props.onAppend(this.state.fieldTemplateIndex)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field,n=e.fieldChildFieldTemplates(t),i=null;return n.length>0&&(i=e.createElement("field-template-choices",{field:t,fieldTemplateIndex:this.state.fieldTemplateIndex,onSelect:this.onSelect})),o.div({className:s(this.props.classes)},i," ",e.createElement("add-item",{onClick:this.onAppend}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],27:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ObjectItemControl",mixins:[e("../../mixins/helper")],onRemove:function(){this.props.onRemove(this.props.itemKey)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return o.div({className:s(this.props.classes)},e.createElement("remove-item",{field:t,onClick:this.onRemove}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],28:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ObjectItemKey",mixins:[e("../../mixins/helper")],onChange:function(e){this.props.onChange(e.target.value)},render:function(){return this.renderWithConfig()},renderDefault:function(){return o.input({className:s(this.props.className),type:"text",value:this.props.displayKey,onChange:this.onChange})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],29:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ObjectItemValue",mixins:[e("../../mixins/helper")],onChangeField:function(e,t){this.props.onChange(this.props.itemKey,e,t)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return o.div({className:s(this.props.className)},e.createFieldElement({field:t,onChange:this.onChangeField,plain:!0}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],30:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"ObjectItem",mixins:[e("../../mixins/helper")],onChangeKey:function(e){this.props.onMove(this.props.itemKey,e)},render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.config,t=this.props.field;return o.div({className:s(this.props.className)},e.createElement("object-item-key",{field:t,onChange:this.onChangeKey,displayKey:this.props.displayKey,itemKey:this.props.itemKey}),e.createElement("object-item-value",{field:t,onChange:this.props.onChange,itemKey:this.props.itemKey}),e.createElement("object-item-control",{field:t,onRemove:this.props.onRemove,itemKey:this.props.itemKey}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],31:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"RemoveItem",mixins:[e("../../mixins/helper")],getDefaultProps:function(){return{label:"[remove]"}},render:function(){return this.renderWithConfig()},onMouseOverRemove:function(){this.props.onMaybeRemove&&this.props.onMaybeRemove(!0)},onMouseOutRemove:function(){this.props.onMaybeRemove&&this.props.onMaybeRemove(!1)},renderDefault:function(){return o.span({className:s(this.props.classes),onClick:this.props.onClick,onMouseOver:this.onMouseOverRemove,onMouseOut:this.onMouseOutRemove},this.props.label)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],32:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s=i.addons.classSet;t.exports=i.createClass({displayName:"Sample",mixins:[e("../../mixins/helper")],render:function(){return this.renderWithConfig()},renderDefault:function(){var e=this.props.choice;return e.sample?o.div({className:s(this.props.className)},e.sample):o.span(null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],33:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=i.addons.classSet;t.exports=i.createClass({displayName:"SelectValue",mixins:[e("../../mixins/helper")],onChange:function(e){var t=e.target.value,n=t.substring(0,t.indexOf(":"));if("choice"===n){var i=t.substring(t.indexOf(":")+1);i=parseInt(i),this.props.onChange(this.props.choices[i].value)}},render:function(){return this.renderWithConfig()},renderDefault:function(){var e,t=this.props.choices||[];if(1===t.length&&"///loading///"===t[0].value)e=o.div({},"Loading choices...");else{var n=void 0!==this.props.field.value?this.props.field.value:"";t=t.map(function(e,t){return{choiceValue:"choice:"+t,value:e.value,label:e.label}});var i=s.find(t,function(e){return e.value===n});if(void 0===i){var r=n;s.isString(n)||(r=JSON.stringify(n)),i={choiceValue:"value:",value:n,label:r},t=[i].concat(t)}e=o.select({className:l(this.props.classes),onChange:this.onChange,value:i.choiceValue,onFocus:this.onFocusAction,onBlur:this.onBlurAction},t.map(function(e,t){return o.option({key:t,value:e.choiceValue},e.label)}.bind(this)))}return e}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../mixins/helper":38}],34:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=i.DOM,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=e("./utils"),r=function(e){return function(){return this[e].apply(this,arguments)}};t.exports={createElement_Fields:i.createFactory(e("./components/fields/fields")),createElement_String:i.createFactory(e("./components/fields/string")),createElement_Unicode:i.createFactory(e("./components/fields/unicode")),createElement_Select:i.createFactory(e("./components/fields/select")),createElement_Boolean:i.createFactory(e("./components/fields/boolean")),createElement_PrettyText:i.createFactory(e("./components/fields/pretty-text")),createElement_Array:i.createFactory(e("./components/fields/array")),createElement_CheckboxList:i.createFactory(e("./components/fields/checkbox-list")),createElement_Object:i.createFactory(e("./components/fields/object")),createElement_Json:i.createFactory(e("./components/fields/json")),createElement_UnknownField:i.createFactory(e("./components/fields/unknown")),createElement_Copy:i.createFactory(e("./components/fields/copy")),createElement_Field:i.createFactory(e("./components/helpers/field")),createElement_Label:i.createFactory(e("./components/helpers/label")),createElement_Help:i.createFactory(e("./components/helpers/help")),createElement_Choices:i.createFactory(e("./components/helpers/choices")),createElement_ArrayControl:i.createFactory(e("./components/helpers/array-control")),createElement_ArrayItemControl:i.createFactory(e("./components/helpers/array-item-control")),createElement_ArrayItemValue:i.createFactory(e("./components/helpers/array-item-value")),createElement_ArrayItem:i.createFactory(e("./components/helpers/array-item")),createElement_FieldTemplateChoices:i.createFactory(e("./components/helpers/field-template-choices")),createElement_AddItem:i.createFactory(e("./components/helpers/add-item")),createElement_RemoveItem:i.createFactory(e("./components/helpers/remove-item")),createElement_MoveItemForward:i.createFactory(e("./components/helpers/move-item-forward")),createElement_MoveItemBack:i.createFactory(e("./components/helpers/move-item-back")),createElement_ObjectControl:i.createFactory(e("./components/helpers/object-control")),createElement_ObjectItemControl:i.createFactory(e("./components/helpers/object-item-control")),createElement_ObjectItemValue:i.createFactory(e("./components/helpers/object-item-value")),createElement_ObjectItemKey:i.createFactory(e("./components/helpers/object-item-key")),createElement_ObjectItem:i.createFactory(e("./components/helpers/object-item")),createElement_SelectValue:i.createFactory(e("./components/helpers/select-value")),createElement_Sample:i.createFactory(e("./components/helpers/sample")),createDefaultValue_String:function(){return""},createDefaultValue_Object:function(){return{}},createDefaultValue_Array:function(){return[]},createDefaultValue_Boolean:function(){return!1},createDefaultValue_Fields:r("createDefaultValue_Object"),createDefaultValue_Unicode:r("createDefaultValue_String"),createDefaultValue_Select:r("createDefaultValue_String"),createDefaultValue_Json:r("createDefaultValue_Object"),createDefaultValue_CheckboxList:r("createDefaultValue_Array"),coerceValue_String:function(e,t){return s.isString(t)?t:s.isUndefined(t)||null===t?"":JSON.stringify(t)},coerceValue_Object:function(e,t){return s.isObject(t)?t:{}},coerceValue_Array:function(e,t){return s.isArray(t)?t:[t]},coerceValue_Boolean:function(e,t){return this.coerceValueToBoolean(t)},coerceValue_Fields:r("coerceValue_Object"),coerceValue_Unicode:r("coerceValue_String"),coerceValue_Select:r("coerceValue_String"),coerceValue_Json:r("coerceValue_Object"),coerceValue_CheckboxList:r("coerceValue_Array"),createChildFields_Array:function(e){var t=this;return e.value.map(function(n,i){var o=t.childFieldTemplateForValue(e,n),s=t.createChildField(e,{fieldTemplate:o,key:i,fieldIndex:i,value:n});return s})},createChildFields_Object:function(e){var t=this;return Object.keys(e.value).map(function(n,i){var o=t.childFieldTemplateForValue(e,e.value[n]),s=t.createChildField(e,{fieldTemplate:o,key:n,fieldIndex:i,value:e.value[n]});return s})},hasElementFactory:function(e){var t=this;return t["createElement_"+e]?!0:!1},createElement:function(e,t,n){var i=this;if(t.config||(t=s.extend({},t,{config:i})),e=i.elementName(e),i["createElement_"+e])return i["createElement_"+e](t,n);if("Unknown"!==e&&i.hasElementFactory("Unknown"))return i.createElement("Unknown",t,n);throw new Error("Factory not found for: "+e)},createFieldElement:function(e){var t=this,n=t.fieldTypeName(e.field);return t.hasElementFactory(n)?t.createElement(n,e):t.createElement("UnknownField",e)},renderFormaticComponent:function(e){var t=this,n=e.props,i=t.createRootField(n);return o.div({className:"formatic"},t.createFieldElement({field:i,onChange:e.onChange,onAction:e.onAction}))},renderComponent:function(e){var t=this,n=e.constructor.displayName;return t["renderComponent_"+n]?t["renderComponent_"+n](e):e.renderDefault()},renderFieldComponent:function(e){var t=this;return t.renderComponent(e)},elementName:function(e){return l.dashToPascal(e)},alias_Dict:"Object",alias_Bool:"Boolean",alias_PrettyTextarea:"PrettyText",alias_Unicode:function(e){return e.replaceChoices?"PrettyText":e.choices?"Select":"Unicode"},alias_String:function(e){return e.replaceChoices?"PrettyText":e.choices?"Select":"String"},alias_Text:r("alias_String"),alias_List:"Array",alias_Fieldset:"Fields",inflateFieldValue:function(e){var t=this;if(t.fieldHasValueChildren(e)){var n=s.clone(e.value),i=t.createChildFields(e);return i.forEach(function(e){t.isKey(e.key)&&(n[e.key]=t.inflateFieldValue(e))}),n}return e.value},initRootField:function(){},initField:function(){},wrapFieldTemplates:function(e){return{type:"fields",plain:!0,fields:e}},createRootField:function(e){var t=this,n=e.fieldTemplate||e.fieldTemplates||e.field||e.fields,i=e.value;n||(n=t.createFieldTemplateFromValue(i)),s.isArray(n)&&(n=t.wrapFieldTemplates(n));var o=s.extend({},n,{rawFieldTemplate:n});return o.value=t.hasValue(n,i)?t.coerceValue(n,i):t.createDefaultValue(n),t.initRootField(o,e),t.initField(o),(null===i||t.isEmptyObject(i)||s.isUndefined(i))&&(o.value=t.inflateFieldValue(o)),o},createRootValue:function(e){var t=this,n=t.createRootField(e);return t.inflateFieldValue(n)},createChildFields:function(e){var t=this,n=t.fieldTypeName(e);return t["createChildFields_"+n]?t["createChildFields_"+n](e):t.fieldChildFieldTemplates(e).map(function(n,i){return t.createChildField(e,{fieldTemplate:n,key:n.key,fieldIndex:i,value:e.value[n.key]})})},createChildField:function(e,t){var n=this,i=t.value,o=s.extend({},t.fieldTemplate,{key:t.key,parent:e,fieldIndex:t.fieldIndex,rawFieldTemplate:t.fieldTemplate});return o.value=n.hasValue(t.fieldTemplate,i)?n.coerceValue(t.fieldTemplate,i):n.createDefaultValue(t.fieldTemplate),n.initField(o),o},createNewChildFieldValue:function(e,t){var n=this,i=n.fieldItemFieldTemplates(e)[t],o=n.fieldTemplateValue(i),l="__unknown_key__";s.isArray(e.value)&&(l=e.value.length);var r=0;s.isObject(e.value)&&(r=Object.keys(e.value).length);var a=n.createChildField(e,{fieldTemplate:i,key:l,fieldIndex:r,value:o});return o=n.inflateFieldValue(a)},createFieldTemplateFromValue:function(e){var t=this,n={type:"json"};if(s.isString(e))n={type:"string"};else if(s.isNumber(e))n={type:"number"};else if(s.isBoolean(e))n={type:"boolean"};else if(s.isArray(e)){var i=e.map(function(e,n){var i=t.createFieldTemplateFromValue(e);return i.key=n,i});n={type:"array",fields:i}}else if(s.isObject(e)){var o=Object.keys(e).map(function(n){var i=t.createFieldTemplateFromValue(e[n]);return i.key=n,i.label=t.humanize(n),i});n={type:"object",fields:o}}else s.isNull(e)&&(n={type:"json"});return n},createDefaultValue:function(e){var t=this,n=t.fieldTemplateDefaultValue(e);if(!s.isUndefined(n))return l.deepCopy(n);var i=t.fieldTypeName(e);return t["createDefaultValue_"+i]?t["createDefaultValue_"+i](e):""},hasValue:function(e,t){return null!==t&&!s.isUndefined(t)&&""!==t},coerceValue:function(e,t){var n=this,i=n.fieldTypeName(e);return n["coerceValue_"+i]?n["coerceValue_"+i](e,t):t},childFieldTemplateForValue:function(e,t){var n,i=this,o=i.fieldItemFieldTemplates(e);return n=s.find(o,function(e){return i.matchesFieldTemplateToValue(e,t)}),n?n:i.createFieldTemplateFromValue(t)},matchesFieldTemplateToValue:function(e,t){var n=e.match;return n?s.every(s.keys(n),function(e){return s.isEqual(n[e],t[e])}):!0},fieldTemplateTypeName:function(e){var t=this,n=l.dashToPascal(e.type||"undefined"),i=t["alias_"+n];return i?s.isFunction(i)?i.call(t,e):i:(e.list&&(n="Array"),n)},fieldTemplateDefaultValue:function(e){return e.default},fieldTemplateValue:function(e){var t=this,n=t.fieldTemplateDefaultValue(e),i=t.fieldTemplateMatch(e);return s.isUndefined(n)&&!s.isUndefined(i)?l.deepCopy(i):t.createDefaultValue(e)},fieldTemplateMatch:function(e){return e.match},fieldValuePath:function(e){var t=this,n=[];return e.parent&&(n=t.fieldValuePath(e.parent)),n.concat(e.key).filter(function(e){return!s.isUndefined(e)&&""!==e})},fieldWithValue:function(e,t){return s.extend({},e,{value:t})},fieldTypeName:r("fieldTemplateTypeName"),fieldChoices:function(e){var t=this;return t.normalizeChoices(e.choices)},fieldBooleanChoices:function(e){var t=this,n=t.fieldChoices(e);return 0===n.length?[{label:"Yes",value:!0},{label:"No",value:!1}]:n.map(function(e){return s.isBoolean(e.value)?e:s.extend({},e,{value:t.coerceValueToBoolean(e.value)})})},fieldReplaceChoices:function(e){var t=this;return t.normalizeChoices(e.replaceChoices)},fieldLabel:function(e){return e.label},fieldHelpText:function(e){return e.help_text_html||e.help_text||e.helpText||e.helpTextHtml},fieldIsRequired:function(e){return e.required},fieldHasValueChildren:function(e){var t=this,n=t.createDefaultValue(e);return s.isObject(n)||s.isArray(n)?!0:!1},fieldChildFieldTemplates:function(e){return e.fields||[]},fieldItemFieldTemplates:function(e){return e.itemFields?s.isArray(e.itemFields)?e.itemFields:[e.itemFields]:[{type:"text"}]},fieldIsSingleLine:function(e){return e.isSingleLine||e.is_single_line||"unicode"===e.type||"Unicode"===e.type},fieldIsCollapsed:function(e){return e.collapsed?!0:!1},fieldIsCollapsible:function(e){return e.collapsible||!s.isUndefined(e.collapsed)},fieldRows:function(e){return e.rows},fieldMatch:r("fieldTemplateMatch"),humanize:function(e){return e=e.replace(/\{\{/g,""),e=e.replace(/\}\}/g,""),e.replace(/_/g," ").replace(/(\w+)/g,function(e){return e.charAt(0).toUpperCase()+e.slice(1)})},normalizeChoices:function(e){var t=this;return e?(s.isString(e)&&(e=e.split(",")),!s.isArray(e)&&s.isObject(e)&&(e=Object.keys(e).map(function(t){return{value:t,label:e[t]}})),e=e.slice(0),e=s.flatten(e),e.forEach(function(n,i){s.isString(n)&&(e[i]={value:n,label:t.humanize(n)}),e[i].label||(e[i].label=t.humanize(e[i].value))}),e):[]},coerceValueToBoolean:function(e){return s.isString(e)?(e=e.toLowerCase(),""===e||"no"===e||"off"===e||"false"===e?!1:!0):e?!0:!1},isKey:function(e){return s.isNumber(e)&&e>=0||s.isString(e)&&""!==e},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/fields/array":2,"./components/fields/boolean":3,"./components/fields/checkbox-list":4,"./components/fields/copy":5,"./components/fields/fields":6,"./components/fields/json":7,"./components/fields/object":8,"./components/fields/pretty-text":9,"./components/fields/select":10,"./components/fields/string":11,"./components/fields/unicode":12,"./components/fields/unknown":13,"./components/helpers/add-item":14,"./components/helpers/array-control":15,"./components/helpers/array-item":18,"./components/helpers/array-item-control":16,"./components/helpers/array-item-value":17,"./components/helpers/choices":19,"./components/helpers/field":21,"./components/helpers/field-template-choices":20,"./components/helpers/help":22,"./components/helpers/label":23,"./components/helpers/move-item-back":24,"./components/helpers/move-item-forward":25,"./components/helpers/object-control":26,"./components/helpers/object-item":30,"./components/helpers/object-item-control":27,"./components/helpers/object-item-key":28,"./components/helpers/object-item-value":29,"./components/helpers/remove-item":31,"./components/helpers/sample":32,"./components/helpers/select-value":33,"./utils":46}],35:[function(e,t){(function(n){"use strict";var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=(i.DOM,"undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null),s=e("./utils"),l=e("./default-config"),r=i.createClass({displayName:"FormaticControlled",onChange:function(e,t){this.props.onChange&&(t=o.extend({},t),t.path=this.props.config.fieldValuePath(t.field),this.props.onChange(e,t))},onAction:function(e){this.props.onAction&&(e=o.extend({},e),e.path=this.props.config.fieldValuePath(e.field),this.props.onAction(e))},render:function(){var e=this.props.config;return e.renderFormaticComponent(this)}}),a=i.createFactory(r);t.exports=i.createClass({statics:{createConfig:function(){var e=o.toArray(arguments),t=o.extend({},l);if(0===e.length)return t;var n=[t].concat(e);return n.reduce(function(e,t){return o.isFunction(t)?(t(e),e):o.extend(e,t)})},availableMixins:{clickOutside:e("./mixins/click-outside.js"),field:e("./mixins/field.js"),helper:e("./mixins/helper.js"),inputActions:e("./mixins/input-actions.js"),resize:e("./mixins/resize.js"),scroll:e("./mixins/scroll.js"),undoStack:e("./mixins/undo-stack.js")},plugins:{bootstrap:e("./plugins/bootstrap"),meta:e("./plugins/meta"),reference:e("./plugins/reference")},utils:s},displayName:"Formatic",getInitialState:function(){return{isControlled:!o.isUndefined(this.props.value),value:o.isUndefined(this.props.value)?this.props.defaultValue:this.props.value}},componentWillReceiveProps:function(e){this.state.isControlled&&(o.isUndefined(e.value)||this.setState({value:e.value}))},onChange:function(e,t){this.state.isControlled||this.setState({value:e}),this.props.onChange&&this.props.onChange(e,t)},onAction:function(e){this.props.onAction&&this.props.onAction(e);var t=s.dashToPascal(e.action);this.props["on"+t]&&this.props["on"+t](e)},render:function(){var e=this.props.config||l,t=this.state.value;this.state.isControlled&&(this.props.onChange||console.log("You should supply an onChange handler if you supply a value."));var n={config:e,fieldTemplate:this.props.field,fieldTemplates:this.props.fields,value:t,onChange:this.onChange,onAction:this.onAction};return o.each(this.props,function(e,t){t in n||(n[t]=e)}),a(n)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-config":34,"./mixins/click-outside.js":36,"./mixins/field.js":37,"./mixins/helper.js":38,"./mixins/input-actions.js":39,"./mixins/resize.js":40,"./mixins/scroll.js":41,"./mixins/undo-stack.js":42,"./plugins/bootstrap":43,"./plugins/meta":44,"./plugins/reference":45,"./utils":46}],36:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i=function(e,t){return e.parentNode===t?!0:null===e.parentNode?!1:i(e.parentNode,t)};t.exports={isNodeOutside:function(e,t){return e===t?!1:i(e,t)?!1:!0},isNodeInside:function(e,t){return!this.isNodeOutside(e,t)},_onClickMousedown:function(){n.each(this.clickOutsideHandlers,function(e,t){this.refs[t]&&(this._mousedownRefs[t]=!0)}.bind(this))},_onClickMouseup:function(e){n.each(this.clickOutsideHandlers,function(t,n){this.refs[n]&&this._mousedownRefs[n]&&this.isNodeOutside(e.target,this.refs[n].getDOMNode())&&t.forEach(function(t){t.call(this,e)}.bind(this)),this._mousedownRefs[n]=!1}.bind(this))},setOnClickOutside:function(e,t){this.clickOutsideHandlers[e]||(this.clickOutsideHandlers[e]=[]),this.clickOutsideHandlers[e].push(t)},componentDidMount:function(){this.clickOutsideHandlers={},this._didMouseDown=!1,document.addEventListener("mousedown",this._onClickMousedown),document.addEventListener("mouseup",this._onClickMouseup),this._mousedownRefs={}},componentWillUnmount:function(){this.clickOutsideHandlers={},document.removeEventListener("mouseup",this._onClickMouseup),document.removeEventListener("mousedown",this._onClickMousedown)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={onChangeValue:function(e){this.props.onChange(e,{field:this.props.field})},onBubbleValue:function(e,t){this.props.onChange(e,t)},onStartAction:function(e,t){if(this.props.onAction){var i=n.extend({},t);i.action=e,i.field=this.props.field,this.props.onAction(i)}},onFocusAction:function(){this.onStartAction("focus")},onBlurAction:function(){this.onStartAction("blur")},onBubbleAction:function(e){this.props.onAction&&this.props.onAction(e)},renderWithConfig:function(){return this.props.config.renderFieldComponent(this)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={renderWithConfig:function(){return this.props.config.renderComponent(this)},onStartAction:function(e,t){if(this.props.onAction){var i=n.extend({},t);i.action=e,i.field=this.props.field,this.props.onAction(i)}},onBubbleAction:function(e){this.props.onAction&&this.props.onAction(e)},onFocusAction:function(){this.onStartAction("focus")},onBlurAction:function(){this.onStartAction("blur")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t){"use strict";t.exports=function(e){e.exports={onFocus:function(){},onBlur:function(){},onChange:function(){}}}},{}],40:[function(e,t){"use strict";var n=0,i={},o=0,s=null,l=function(){Object.keys(i).forEach(function(e){var t=i[e];if(t.clientWidth!==t.__prevClientWidth||t.clientHeight!==t.__prevClientHeight){t.__prevClientWidth=t.clientWidth,t.__prevClientHeight=t.clientHeight;var n=t.__resizeHandlers;n.forEach(function(e){e()})}},100)},r=function(e,t){null===s&&(s=setInterval(l,100)),"__resizeId"in e||(n++,e.__prevClientWidth=e.clientWidth,e.__prevClientHeight=e.clientHeight,e.__resizeId=n,o++,i[n]=e,e.__resizeHandlers=[]),e.__resizeHandlers.push(t)},a=function(e){if("__resizeId"in e){var t=e.__resizeId;delete e.__resizeId,delete e.__resizeHandlers,delete i[t],o--,1>o&&(clearInterval(s),s=null)}},c=function(e,t){t(e)};t.exports={componentDidMount:function(){this.onResizeWindow&&window.addEventListener("resize",this.onResizeWindow),this.resizeElementRefs={}},componentWillUnmount:function(){this.onResizeWindow&&window.removeEventListener("resize",this.onResizeWindow),Object.keys(this.resizeElementRefs).forEach(function(e){a(this.refs[e].getDOMNode())}.bind(this))},setOnResize:function(e,t){this.resizeElementRefs[e]||(this.resizeElementRefs[e]=!0),r(this.refs[e].getDOMNode(),c.bind(this,e,t))}}},{}],41:[function(e,t){"use strict";t.exports=function(e){e.exports={componentDidMount:function(){this.onScrollWindow&&window.addEventListener("scroll",this.onScrollWindow)},componentWillUnmount:function(){this.onScrollWindow&&window.removeEventListener("scroll",this.onScrollWindow)}}}},{}],42:[function(e,t){"use strict";t.exports={getInitialState:function(){return{undo:[],redo:[]}
},snapshot:function(){var e=this.state.undo.concat(this.getStateSnapshot());"number"==typeof this.state.undoDepth&&e.length>this.state.undoDepth&&e.shift(),this.setState({undo:e,redo:[]})},hasUndo:function(){return this.state.undo.length>0},hasRedo:function(){return this.state.redo.length>0},redo:function(){this._undoImpl(!0)},undo:function(){this._undoImpl()},_undoImpl:function(e){var t,n=this.state.undo.slice(0),i=this.state.redo.slice(0);if(e){if(0===i.length)return;t=i.pop(),n.push(this.getStateSnapshot())}else{if(0===n.length)return;t=n.pop(),i.push(this.getStateSnapshot())}this.setStateSnapshot(t),this.setState({undo:n,redo:i})}}},{}],43:[function(e,t){(function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i={Field:{classes:{"form-group":!0}},Help:{classes:{"help-block":!0}},Sample:{classes:{"help-block":!0}},ArrayControl:{classes:{"form-inline":!0}},ArrayItem:{classes:{well:!0}},FieldTemplateChoices:{classes:{"form-control":!0}},AddItem:{classes:{"glyphicon glyphicon-plus":!0},label:""},RemoveItem:{classes:{"glyphicon glyphicon-remove":!0},label:""},MoveItemBack:{classes:{"glyphicon glyphicon-arrow-up":!0},label:""},MoveItemForward:{classes:{"glyphicon glyphicon-arrow-down":!0},label:""},ObjectItemKey:{classes:{"form-control":!0}},Unicode:{classes:{"form-control":!0}},String:{classes:{"form-control":!0}},PrettyText:{classes:{"form-control":!0}},Json:{classes:{"form-control":!0}},SelectValue:{classes:{"form-control":!0}}};t.exports=function(e){var t=e.createElement;e.createElement=function(o,s,l){o=e.elementName(o);var r=i[o];return r&&(s=n.extend({},s),s.classes=n.extend({},s.classes,r.classes),"label"in r&&(s.label=r.label)),t.call(this,o,s,l)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t){"use strict";t.exports=function(e){var t=e.initRootField;e.initRootField=function(e,n){var i=this;e.meta=n.meta||{},t.apply(i,arguments)};var n=e.initField;e.initField=function(e){var t=this;e.parent&&e.parent.meta&&(e.meta=e.parent.meta),n.apply(t,arguments)}}},{}],45:[function(e,t){(function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e){var t=e.initField;e.findFieldTemplate=function(e,t){var n=this;return e.templates[t]?e.templates[t]:e.parent?n.findFieldTemplate(e.parent,t):null},e.resolveFieldTemplate=function(e,t){var i=this;if(!t.extends)return t;var o=t.extends;n.isArray(o)||(o=[o]);var s=o.map(function(t){var n=i.findFieldTemplate(e,t);if(!n)throw new Error("Template "+t+" not found.");return n}),l=[{}].concat(s.reverse().concat([t]));return t=n.extend.apply(n,l)},e.initField=function(e){var i=this,o=e.templates={},s=i.fieldChildFieldTemplates(e);s.forEach(function(e){if(!n.isString(e)){var t=e.key,i=e.id;e.template&&(e=n.extend({},e,{template:!1})),n.isUndefined(t)||""===t||(o[t]=e),n.isUndefined(i)||""===i||(o[i]=e)}}),s.length>0&&(e.fields=s.map(function(t){return n.isString(t)&&(t=i.findFieldTemplate(e,t)),i.resolveFieldTemplate(e,t)}),e.fields=e.fields.filter(function(e){return!e.template}));var l=i.fieldItemFieldTemplates(e);l.length>0&&(e.itemFields=l.map(function(t){return n.isString(t)&&(t=i.findFieldTemplate(e,t)),i.resolveFieldTemplate(e,t)})),t.call(i,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i=n;i.deepCopy=function(e){if(t.isArray(e))return e.map(function(e){return i.deepCopy(e)});if(t.isFunction(e))return e;if(t.isNull(e))return e;if(t.isObject(e)){var n={};return t.each(e,function(e,t){n[t]=i.deepCopy(e)}),n}return e};var o={};i.dashToPascal=function(e){return o[e]||(o[e]=e.split("-").map(function(e){return e[0].toUpperCase()+e.substring(1)}).join("")),o[e]},i.copyElementStyle=function(e,t){var n=window.getComputedStyle(e,"");if(""!==n.cssText)return void(t.style.cssText=n.cssText);for(var i=[],o=0;o<n.length;o++)i.push(n[o]+":"+n.getPropertyValue(n[o])+";");var s=i.join("");t.style.cssText=s};var s={isChrome:!1,isMozilla:!1,isOpera:!1,isIe:!1,isSafari:!1},l=navigator.userAgent;l.indexOf("Chrome")>-1?s.isChrome=!0:l.indexOf("Safari")>-1?s.isSafari=!0:l.indexOf("Opera")>-1?s.isOpera=!0:l.indexOf("Firefox")>-1?s.isMozilla=!0:l.indexOf("MSIE")>-1&&(s.isIe=!0),i.browser=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});